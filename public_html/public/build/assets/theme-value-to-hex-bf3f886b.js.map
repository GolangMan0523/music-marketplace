{"version":3,"file":"theme-value-to-hex-bf3f886b.js","sources":["../../../common/resources/client/icons/material/KeyboardArrowLeft.tsx","../../../common/resources/client/utils/hooks/is-tablet-media-query.ts","../../../common/resources/client/ui/tables/navigate-grid.ts","../../../common/resources/client/ui/tables/table-context.ts","../../../common/resources/client/ui/tables/style/use-table-cell-style.ts","../../../common/resources/client/ui/tables/table-cell.tsx","../../../common/resources/client/ui/interactions/use-pointer-events.ts","../../../common/resources/client/ui/tables/style/use-table-row-style.ts","../../../common/resources/client/ui/tables/table-row.tsx","../../../common/resources/client/ui/tables/checkbox-column-config.tsx","../../../common/resources/client/icons/material/ArrowDownward.tsx","../../../common/resources/client/ui/tables/header-cell.tsx","../../../common/resources/client/ui/tables/table-header-row.tsx","../../../common/resources/client/ui/tables/table.tsx","../../../common/resources/client/ui/images/avatar.tsx","../../../common/resources/client/ui/forms/input-field/chip-field/chip-list.tsx","../../../common/resources/client/i18n/formatted-number.tsx","../../../node_modules/@react-stately/color/dist/ar-AE.mjs","../../../node_modules/@react-stately/color/dist/bg-BG.mjs","../../../node_modules/@react-stately/color/dist/cs-CZ.mjs","../../../node_modules/@react-stately/color/dist/da-DK.mjs","../../../node_modules/@react-stately/color/dist/de-DE.mjs","../../../node_modules/@react-stately/color/dist/el-GR.mjs","../../../node_modules/@react-stately/color/dist/en-US.mjs","../../../node_modules/@react-stately/color/dist/es-ES.mjs","../../../node_modules/@react-stately/color/dist/et-EE.mjs","../../../node_modules/@react-stately/color/dist/fi-FI.mjs","../../../node_modules/@react-stately/color/dist/fr-FR.mjs","../../../node_modules/@react-stately/color/dist/he-IL.mjs","../../../node_modules/@react-stately/color/dist/hr-HR.mjs","../../../node_modules/@react-stately/color/dist/hu-HU.mjs","../../../node_modules/@react-stately/color/dist/it-IT.mjs","../../../node_modules/@react-stately/color/dist/ja-JP.mjs","../../../node_modules/@react-stately/color/dist/ko-KR.mjs","../../../node_modules/@react-stately/color/dist/lt-LT.mjs","../../../node_modules/@react-stately/color/dist/lv-LV.mjs","../../../node_modules/@react-stately/color/dist/nb-NO.mjs","../../../node_modules/@react-stately/color/dist/nl-NL.mjs","../../../node_modules/@react-stately/color/dist/pl-PL.mjs","../../../node_modules/@react-stately/color/dist/pt-BR.mjs","../../../node_modules/@react-stately/color/dist/pt-PT.mjs","../../../node_modules/@react-stately/color/dist/ro-RO.mjs","../../../node_modules/@react-stately/color/dist/ru-RU.mjs","../../../node_modules/@react-stately/color/dist/sk-SK.mjs","../../../node_modules/@react-stately/color/dist/sl-SI.mjs","../../../node_modules/@react-stately/color/dist/sr-SP.mjs","../../../node_modules/@react-stately/color/dist/sv-SE.mjs","../../../node_modules/@react-stately/color/dist/tr-TR.mjs","../../../node_modules/@react-stately/color/dist/uk-UA.mjs","../../../node_modules/@react-stately/color/dist/zh-CN.mjs","../../../node_modules/@react-stately/color/dist/zh-TW.mjs","../../../node_modules/@internationalized/string/dist/import.mjs","../../../node_modules/@react-stately/color/dist/import.mjs","../../../common/resources/client/ui/interactions/dnd/drag-state.ts","../../../common/resources/client/ui/interactions/interactable-event.ts","../../../common/resources/client/ui/interactions/active-interaction.ts","../../../common/resources/client/ui/interactions/utils/dom-rect-to-obj.ts","../../../common/resources/client/ui/interactions/dnd/update-rects.ts","../../../common/resources/client/ui/interactions/dnd/use-draggable.ts","../../../common/resources/client/ui/interactions/dnd/read-files-from-data-transfer.ts","../../../common/resources/client/utils/array/async-iterable-to-array.ts","../../../common/resources/client/ui/interactions/dnd/use-droppable.ts","../../../common/resources/client/ui/interactions/dnd/sortable/sortable-line-strategy.ts","../../../common/resources/client/utils/array/move-item-in-array.ts","../../../common/resources/client/utils/array/move-item-in-new-array.ts","../../../common/resources/client/ui/interactions/dnd/sortable/sortable-transform-strategy.ts","../../../common/resources/client/ui/interactions/dnd/sortable/sortable-move-node-strategy.ts","../../../common/resources/client/ui/interactions/dnd/sortable/use-sortable.ts","../../../node_modules/dot-object/index.js","../../../common/resources/client/ui/interactions/dnd/drag-preview.tsx","../../../common/resources/client/i18n/formatted-duration.tsx","../../../resources/client/web-player/genres/genre.ts","../../../resources/client/web-player/tracks/waveform/generate-waveform-data.ts","../../../resources/client/web-player/albums/assign-album-to-tracks.ts","../../../resources/client/web-player/tracks/requests/use-track.ts","../../../resources/client/web-player/albums/requests/use-album.ts","../../../common/resources/client/ui/images/user-avatar.tsx","../../../common/resources/client/utils/array/sort-array-of-objects.ts","../../../common/resources/client/ui/tables/use-sortable-table-data.ts","../../../resources/client/admin/artist-datatable-page/artist-form/profile-links-form.tsx","../../../resources/client/web-player/artists/requests/use-artist.ts","../../../common/resources/client/ui/themes/utils/theme-value-to-hex.ts"],"sourcesContent":["import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const KeyboardArrowLeftIcon = createSvgIcon(\r\n  <path d=\"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z\" />\r\n, 'KeyboardArrowLeftOutlined');\r\n","import {useMediaQuery, UseMediaQueryOptions} from './use-media-query';\r\n\r\nexport function useIsTabletMediaQuery(options?: UseMediaQueryOptions) {\r\n  return useMediaQuery('(max-width: 1024px)', options);\r\n}\r\n","import React, {KeyboardEventHandler} from 'react';\r\nimport {getFocusableTreeWalker} from '@react-aria/focus';\r\nimport {focusWithoutScrolling} from '@react-aria/utils';\r\nimport {isCtrlKeyPressed} from '../../utils/keybinds/is-ctrl-key-pressed';\r\n\r\ninterface Props {\r\n  cellCount: number;\r\n  rowCount: number;\r\n}\r\nexport function useGridNavigation(props: Props) {\r\n  const {cellCount, rowCount} = props;\r\n  const onKeyDown: KeyboardEventHandler<HTMLElement> = e => {\r\n    switch (e.key) {\r\n      case 'ArrowLeft':\r\n        focusSiblingCell(e, {cell: {op: 'decrement'}}, props);\r\n        break;\r\n      case 'ArrowRight':\r\n        focusSiblingCell(e, {cell: {op: 'increment'}}, props);\r\n        break;\r\n      case 'ArrowUp':\r\n        focusSiblingCell(e, {row: {op: 'decrement'}}, props);\r\n        break;\r\n      case 'ArrowDown':\r\n        focusSiblingCell(e, {row: {op: 'increment'}}, props);\r\n        break;\r\n      case 'PageUp':\r\n        focusSiblingCell(e, {row: {op: 'decrement', count: 5}}, props);\r\n        break;\r\n      case 'PageDown':\r\n        focusSiblingCell(e, {row: {op: 'increment', count: 5}}, props);\r\n        break;\r\n      case 'Tab':\r\n        focusFirstElementAfterGrid(e);\r\n        break;\r\n      case 'Home':\r\n        if (isCtrlKeyPressed(e)) {\r\n          // move to first cell in first row\r\n          focusSiblingCell(\r\n            e,\r\n            {\r\n              row: {op: 'decrement', count: rowCount},\r\n              cell: {op: 'decrement', count: cellCount},\r\n            },\r\n            props\r\n          );\r\n        } else {\r\n          // move to first cell in current row\r\n          focusSiblingCell(\r\n            e,\r\n            {cell: {op: 'decrement', count: cellCount}},\r\n            props\r\n          );\r\n        }\r\n        break;\r\n      case 'End':\r\n        if (isCtrlKeyPressed(e)) {\r\n          // move to last cell in last row\r\n          focusSiblingCell(\r\n            e,\r\n            {\r\n              row: {op: 'increment', count: rowCount},\r\n              cell: {op: 'increment', count: cellCount},\r\n            },\r\n            props\r\n          );\r\n        } else {\r\n          // move to last cell in current row\r\n          focusSiblingCell(\r\n            e,\r\n            {cell: {op: 'increment', count: cellCount}},\r\n            props\r\n          );\r\n        }\r\n        break;\r\n    }\r\n  };\r\n\r\n  return {onKeyDown};\r\n}\r\n\r\ninterface Operations {\r\n  cell?: {\r\n    op: 'increment' | 'decrement';\r\n    count?: number;\r\n  };\r\n  row?: {\r\n    op: 'increment' | 'decrement';\r\n    count?: number;\r\n  };\r\n}\r\nfunction focusSiblingCell(\r\n  e: React.KeyboardEvent,\r\n  operations: Operations,\r\n  {cellCount, rowCount}: Props\r\n) {\r\n  if (document.activeElement?.tagName === 'input') return;\r\n  e.preventDefault();\r\n  const grid = e.currentTarget as HTMLElement;\r\n\r\n  // focused element might be inside the cell and not the cell itself\r\n  const currentCell = (e.target as HTMLElement).closest('[aria-colindex]');\r\n  if (!currentCell || !grid) return;\r\n\r\n  const row = currentCell.closest('[aria-rowindex]');\r\n  if (!row) return;\r\n\r\n  // grab row and cell index from aria attributes\r\n  let rowIndex = parseInt(row.getAttribute('aria-rowindex') as string);\r\n  let cellIndex = parseInt(currentCell.getAttribute('aria-colindex') as string);\r\n  if (Number.isNaN(rowIndex) || Number.isNaN(cellIndex)) return;\r\n\r\n  // adjust row index for next cell selector\r\n  const rowOpCount = operations.row?.count ?? 1;\r\n  if (operations.row?.op === 'increment') {\r\n    rowIndex = Math.min(rowCount, rowIndex + rowOpCount);\r\n  } else if (operations.row?.op === 'decrement') {\r\n    rowIndex = Math.max(1, rowIndex - rowOpCount);\r\n  }\r\n\r\n  // adjust cell index for next cell selector\r\n  const cellOpCount = operations.cell?.count ?? 1;\r\n  if (operations.cell?.op === 'increment') {\r\n    cellIndex = Math.min(cellCount, cellIndex + cellOpCount);\r\n  } else if (operations.cell?.op === 'decrement') {\r\n    cellIndex = Math.max(1, cellIndex - cellOpCount);\r\n  }\r\n\r\n  // find the next cell that should be focused\r\n  const nextCell = grid.querySelector(\r\n    `[aria-rowindex=\"${rowIndex}\"] [aria-colindex=\"${cellIndex}\"]`\r\n  ) as HTMLElement | undefined;\r\n  if (!nextCell) return;\r\n\r\n  // find any focusable elements inside the cell\r\n  const walker = getFocusableTreeWalker(nextCell);\r\n  const nextFocusableElement = (walker.nextNode() || nextCell) as HTMLElement;\r\n\r\n  // adjust tab index on current and next cells and focus either next cell or first focusable element inside that cell\r\n  currentCell.setAttribute('tabindex', '-1');\r\n  nextFocusableElement.setAttribute('tabindex', '0');\r\n  nextFocusableElement.focus();\r\n}\r\n\r\n// grid is treated as a single tab stop, focus first element after grid, instead of moving focus withing grid on tab press\r\nfunction focusFirstElementAfterGrid(e: React.KeyboardEvent) {\r\n  const grid = e.currentTarget as HTMLElement;\r\n  if (e.shiftKey) {\r\n    grid.focus();\r\n  } else {\r\n    const walker = getFocusableTreeWalker(grid, {tabbable: true});\r\n    let next: HTMLElement;\r\n    let last: HTMLElement;\r\n    do {\r\n      last = walker.lastChild() as HTMLElement;\r\n      if (last) {\r\n        next = last;\r\n      }\r\n    } while (last);\r\n\r\n    // @ts-ignore\r\n    if (next && !next.contains(document.activeElement)) {\r\n      focusWithoutScrolling(next);\r\n    }\r\n  }\r\n}\r\n","import {createContext} from 'react';\r\nimport type {SortDescriptor} from './types/sort-descriptor';\r\nimport type {TableProps} from './table';\r\nimport type {ColumnConfig} from '../../datatable/column-config';\r\nimport type {TableDataItem} from './types/table-data-item';\r\n\r\nexport type TableSelectionStyle = 'checkbox' | 'highlight';\r\n\r\nexport interface TableContextValue<T extends TableDataItem = TableDataItem> {\r\n  isCollapsedMode: boolean;\r\n  selectedRows: (string | number)[];\r\n  onSelectionChange: (keys: (string | number)[]) => void;\r\n  sortDescriptor?: SortDescriptor;\r\n  onSortChange?: (descriptor: SortDescriptor) => any;\r\n  enableSelection?: boolean;\r\n  enableSorting?: boolean;\r\n  selectionStyle: TableSelectionStyle;\r\n  data: T[];\r\n  meta?: any;\r\n  columns: ColumnConfig<T>[];\r\n  toggleRow: (item: T) => void;\r\n  selectRow: (item: T | null, merge?: boolean) => void;\r\n  hideBorder: boolean;\r\n  hideHeaderRow: boolean;\r\n  collapseOnMobile: boolean;\r\n  onAction: TableProps<T>['onAction'];\r\n  selectRowOnContextMenu: TableProps<T>['selectRowOnContextMenu'];\r\n  cellHeight: string | undefined;\r\n  headerCellHeight: string | undefined;\r\n}\r\nexport const TableContext = createContext<TableContextValue>(null!);\r\n","import clsx from 'clsx';\r\nimport {useContext} from 'react';\r\nimport {TableContext} from '@common/ui/tables/table-context';\r\n\r\ninterface Props {\r\n  index: number;\r\n  isHeader: boolean;\r\n}\r\nexport function useTableCellStyle({index, isHeader}: Props) {\r\n  const {\r\n    columns,\r\n    cellHeight = 'h-46',\r\n    headerCellHeight = 'h-46',\r\n  } = useContext(TableContext);\r\n  const column = columns[index];\r\n\r\n  const userPadding = column?.padding;\r\n\r\n  let justify = 'justify-start';\r\n  if (column?.align === 'center') {\r\n    justify = 'justify-center';\r\n  } else if (column?.align === 'end') {\r\n    justify = 'justify-end';\r\n  }\r\n\r\n  return clsx(\r\n    'flex items-center overflow-hidden whitespace-nowrap overflow-ellipsis outline-none focus-visible:outline focus-visible:outline-offset-2',\r\n    isHeader ? headerCellHeight : cellHeight,\r\n    column?.width ?? 'flex-1',\r\n    column?.maxWidth,\r\n    column?.minWidth,\r\n    justify,\r\n    userPadding,\r\n    column?.className\r\n  );\r\n}\r\n","import {useContext, useMemo} from 'react';\r\nimport {TableContext} from './table-context';\r\nimport {TableDataItem} from './types/table-data-item';\r\nimport {RowContext} from '@common/datatable/column-config';\r\nimport {useTableCellStyle} from '@common/ui/tables/style/use-table-cell-style';\r\n\r\ninterface TableCellProps {\r\n  rowIsHovered: boolean;\r\n  rowIndex: number;\r\n  index: number;\r\n  item: TableDataItem;\r\n  id?: string;\r\n}\r\nexport function TableCell({\r\n  rowIndex,\r\n  rowIsHovered,\r\n  index,\r\n  item,\r\n  id,\r\n}: TableCellProps) {\r\n  const {columns} = useContext(TableContext);\r\n  const column = columns[index];\r\n\r\n  const rowContext: RowContext = useMemo(() => {\r\n    return {\r\n      index: rowIndex,\r\n      isHovered: rowIsHovered,\r\n      isPlaceholder: item.isPlaceholder,\r\n    };\r\n  }, [rowIndex, rowIsHovered, item.isPlaceholder]);\r\n\r\n  const style = useTableCellStyle({\r\n    index: index,\r\n    isHeader: false,\r\n  });\r\n\r\n  return (\r\n    <div\r\n      tabIndex={-1}\r\n      role=\"gridcell\"\r\n      aria-colindex={index + 1}\r\n      id={id}\r\n      className={style}\r\n    >\r\n      <div className=\"overflow-x-hidden overflow-ellipsis min-w-0 w-full\">\r\n        {column.body(item, rowContext)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, {HTMLAttributes, useRef} from 'react';\r\nimport {createEventHandler} from '../../utils/dom/create-event-handler';\r\nimport {useGlobalListeners} from '@react-aria/utils';\r\n\r\ninterface PointerState {\r\n  lastPosition: {x: number; y: number};\r\n  id?: number;\r\n  started: boolean;\r\n  el?: HTMLElement;\r\n  originalTouchAction?: string;\r\n  originalUserSelect?: string;\r\n  longPressTimer?: any;\r\n  longPressTriggered?: boolean;\r\n}\r\n\r\ninterface UsePointerEventsReturn {\r\n  domProps: HTMLAttributes<HTMLElement>;\r\n}\r\n\r\nexport interface UsePointerEventsProps {\r\n  onMoveStart?: (e: PointerEvent, el: HTMLElement) => false | void;\r\n  onMove?: (e: PointerEvent, deltaX: number, deltaY: number) => void;\r\n  onMoveEnd?: (e: PointerEvent) => void;\r\n  onPointerDown?: (e: React.PointerEvent) => void | false;\r\n  onPointerUp?: (e: PointerEvent, el: HTMLElement) => void;\r\n  onPress?: (e: PointerEvent, el: HTMLElement) => void;\r\n  onLongPress?: (e: PointerEvent | React.PointerEvent, el: HTMLElement) => void;\r\n  preventDefault?: boolean;\r\n  stopPropagation?: boolean;\r\n  minimumMovement?: number;\r\n}\r\nexport function usePointerEvents({\r\n  onMoveStart,\r\n  onMove,\r\n  onMoveEnd,\r\n  minimumMovement = 0,\r\n  preventDefault,\r\n  stopPropagation = true,\r\n  onPress,\r\n  onLongPress,\r\n  ...props\r\n}: UsePointerEventsProps): UsePointerEventsReturn {\r\n  const stateRef = useRef<PointerState>({\r\n    lastPosition: {x: 0, y: 0},\r\n    started: false,\r\n    longPressTriggered: false,\r\n  });\r\n  const state = stateRef.current;\r\n\r\n  const {addGlobalListener, removeGlobalListener} = useGlobalListeners();\r\n\r\n  const start = (e: PointerEvent) => {\r\n    if (!state.el) return;\r\n    const result = onMoveStart?.(e, state.el);\r\n\r\n    // allow user to cancel interaction\r\n    if (result === false) return;\r\n\r\n    state.originalTouchAction = state.el.style.touchAction;\r\n    state.el.style.touchAction = 'none';\r\n    state.originalUserSelect = document.documentElement.style.userSelect;\r\n    document.documentElement.style.userSelect = 'none';\r\n    state.started = true;\r\n  };\r\n\r\n  const onPointerDown = (e: React.PointerEvent) => {\r\n    if (e.button === 0 && state.id == null) {\r\n      state.started = false;\r\n\r\n      const result = props.onPointerDown?.(e);\r\n      if (result === false) return;\r\n\r\n      if (stopPropagation) {\r\n        e.stopPropagation();\r\n      }\r\n      if (preventDefault) {\r\n        e.preventDefault();\r\n      }\r\n      state.id = e.pointerId;\r\n      state.el = e.currentTarget as HTMLElement;\r\n      state.lastPosition = {x: e.clientX, y: e.clientY};\r\n\r\n      // use global listeners, so we don't have to capture pointer,\r\n      // which would prevent click events on child nodes\r\n\r\n      if (onLongPress) {\r\n        state.longPressTimer = setTimeout(() => {\r\n          onLongPress(e, state.el!);\r\n          state.longPressTriggered = true;\r\n        }, 400);\r\n      }\r\n\r\n      if (onMoveStart || onMove) {\r\n        addGlobalListener(window, 'pointermove', onPointerMove, false);\r\n      }\r\n      addGlobalListener(window, 'pointerup', onPointerUp, false);\r\n      addGlobalListener(window, 'pointercancel', onPointerUp, false);\r\n    }\r\n  };\r\n\r\n  const onPointerMove = (e: PointerEvent) => {\r\n    if (e.pointerId === state.id) {\r\n      const deltaX = e.clientX - state.lastPosition.x;\r\n      const deltaY = e.clientY - state.lastPosition.y;\r\n\r\n      if (\r\n        (Math.abs(deltaX) >= minimumMovement ||\r\n          Math.abs(deltaY) >= minimumMovement) &&\r\n        !state.started\r\n      ) {\r\n        start(e);\r\n      }\r\n\r\n      if (state.started) {\r\n        onMove?.(e, deltaX, deltaY);\r\n        state.lastPosition = {x: e.clientX, y: e.clientY};\r\n      }\r\n    }\r\n  };\r\n\r\n  const onPointerUp = (e: PointerEvent) => {\r\n    if (e.pointerId === state.id) {\r\n      // cancel long press timer, if exists\r\n      if (state.longPressTimer) {\r\n        clearTimeout(state.longPressTimer);\r\n      }\r\n\r\n      const longPressTriggered = state.longPressTriggered;\r\n      state.longPressTriggered = false;\r\n\r\n      // only call onMoveEnd if we actually started moving\r\n      if (state.started) {\r\n        onMoveEnd?.(e);\r\n      }\r\n\r\n      if (state.el) {\r\n        // handle press only if event was not cancelled (via touch scroll on mobile for example)\r\n        if (e.type !== 'pointercancel') {\r\n          props.onPointerUp?.(e, state.el);\r\n\r\n          // only call onPress if pointer did not leave onPointerDown element\r\n          if (e.target && state.el.contains(e.target as HTMLElement)) {\r\n            // trigger either onPress or onLongPress\r\n            if (longPressTriggered) {\r\n              onLongPress?.(e, state.el);\r\n            } else {\r\n              onPress?.(e, state.el);\r\n            }\r\n          }\r\n        }\r\n\r\n        document.documentElement.style.userSelect =\r\n          state.originalUserSelect || '';\r\n        state.el.style.touchAction = state.originalTouchAction || '';\r\n      }\r\n      state.id = undefined;\r\n      state.started = false;\r\n      removeGlobalListener(window, 'pointermove', onPointerMove, false);\r\n      removeGlobalListener(window, 'pointerup', onPointerUp, false);\r\n      removeGlobalListener(window, 'pointercancel', onPointerUp, false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    domProps: {\r\n      onPointerDown: createEventHandler(onPointerDown),\r\n    },\r\n  };\r\n}\r\n","import clsx from 'clsx';\r\nimport {useContext} from 'react';\r\nimport {TableContext} from '@common/ui/tables/table-context';\r\nimport {useIsDarkMode} from '@common/ui/themes/use-is-dark-mode';\r\nimport {useIsMobileMediaQuery} from '@common/utils/hooks/is-mobile-media-query';\r\n\r\ninterface Props {\r\n  index: number;\r\n  isSelected: boolean;\r\n  isHeader?: boolean;\r\n}\r\nexport function useTableRowStyle({index, isSelected, isHeader}: Props) {\r\n  const isDarkMode = useIsDarkMode();\r\n  const isMobile = useIsMobileMediaQuery();\r\n  const {hideBorder, enableSelection, collapseOnMobile, onAction} =\r\n    useContext(TableContext);\r\n  const isFirst = index === 0;\r\n  return clsx(\r\n    'flex gap-x-16 break-inside-avoid outline-none border border-transparent',\r\n    onAction && 'cursor-pointer',\r\n    isMobile && collapseOnMobile && hideBorder\r\n      ? 'mb-8 pl-8 pr-0 rounded'\r\n      : 'px-16',\r\n    !hideBorder && 'border-b-divider',\r\n    !hideBorder && isFirst && 'border-t-divider',\r\n    isSelected &&\r\n      !isDarkMode &&\r\n      'bg-primary/selected hover:bg-primary/focus focus-visible:bg-primary/focus',\r\n    isSelected &&\r\n      isDarkMode &&\r\n      'bg-selected hover:bg-focus focus-visible:bg-focus',\r\n    !isSelected &&\r\n      !isHeader &&\r\n      (enableSelection || onAction) &&\r\n      'focus-visible:bg-focus hover:bg-hover'\r\n  );\r\n}\r\n","import React, {\r\n  ComponentPropsWithoutRef,\r\n  JSXElementConstructor,\r\n  KeyboardEventHandler,\r\n  MouseEventHandler,\r\n  useContext,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport {TableContext} from './table-context';\r\nimport {TableCell} from './table-cell';\r\nimport {TableDataItem} from './types/table-data-item';\r\nimport {createEventHandler} from '../../utils/dom/create-event-handler';\r\nimport {usePointerEvents} from '../interactions/use-pointer-events';\r\nimport {isCtrlOrShiftPressed} from '../../utils/keybinds/is-ctrl-or-shift-pressed';\r\nimport {useTableRowStyle} from '@common/ui/tables/style/use-table-row-style';\r\nimport clsx from 'clsx';\r\n\r\nconst interactableElements = ['button', 'a', 'input', 'select', 'textarea'];\r\n\r\nexport interface RowElementProps<T = TableDataItem>\r\n  extends ComponentPropsWithoutRef<'tr'> {\r\n  item: T & {isPlaceholder?: boolean};\r\n}\r\n\r\ninterface TableRowProps {\r\n  item: TableDataItem;\r\n  index: number;\r\n  renderAs?: JSXElementConstructor<RowElementProps>;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n}\r\nexport function TableRow({\r\n  item,\r\n  index,\r\n  renderAs,\r\n  className,\r\n  style,\r\n}: TableRowProps) {\r\n  const {\r\n    selectedRows,\r\n    columns,\r\n    toggleRow,\r\n    selectRow,\r\n    onAction,\r\n    selectRowOnContextMenu,\r\n    enableSelection,\r\n    selectionStyle,\r\n    hideHeaderRow,\r\n  } = useContext(TableContext);\r\n\r\n  const isTouchDevice = useRef(false);\r\n  const isSelected = selectedRows.includes(item.id);\r\n  const [isHovered, setIsHovered] = useState(false);\r\n\r\n  const clickedOnInteractable = (e: React.MouseEvent | PointerEvent) => {\r\n    return (e.target as HTMLElement).closest(interactableElements.join(','));\r\n  };\r\n\r\n  const doubleClickHandler: MouseEventHandler<HTMLDivElement> = e => {\r\n    if (\r\n      selectionStyle === 'highlight' &&\r\n      onAction &&\r\n      !isTouchDevice.current &&\r\n      !clickedOnInteractable(e)\r\n    ) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      onAction(item, index);\r\n    }\r\n  };\r\n\r\n  const anyRowsSelected = !!selectedRows.length;\r\n\r\n  const handleRowTap = (e: PointerEvent) => {\r\n    if (clickedOnInteractable(e)) return;\r\n    if (selectionStyle === 'checkbox') {\r\n      if (enableSelection && (anyRowsSelected || !onAction)) {\r\n        toggleRow(item);\r\n      } else if (onAction) {\r\n        onAction(item, index);\r\n      }\r\n    } else if (selectionStyle === 'highlight') {\r\n      if (isTouchDevice.current) {\r\n        if (enableSelection && anyRowsSelected) {\r\n          toggleRow(item);\r\n        } else {\r\n          onAction?.(item, index);\r\n        }\r\n      } else if (enableSelection) {\r\n        selectRow(item, isCtrlOrShiftPressed(e));\r\n      }\r\n    }\r\n  };\r\n\r\n  const {domProps} = usePointerEvents({\r\n    onPointerDown: e => {\r\n      isTouchDevice.current = e.pointerType === 'touch';\r\n    },\r\n    onPress: handleRowTap,\r\n    onLongPress: enableSelection\r\n      ? () => {\r\n          if (isTouchDevice.current) {\r\n            toggleRow(item);\r\n          }\r\n        }\r\n      : undefined,\r\n  });\r\n\r\n  const keyboardHandler: KeyboardEventHandler = e => {\r\n    if (enableSelection && e.key === ' ') {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if (selectionStyle === 'checkbox') {\r\n        toggleRow(item);\r\n      } else {\r\n        selectRow(item);\r\n      }\r\n    } else if (e.key === 'Enter' && !selectedRows.length && onAction) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      onAction(item, index);\r\n    }\r\n  };\r\n\r\n  const contextMenuHandler: MouseEventHandler = e => {\r\n    if (selectRowOnContextMenu && enableSelection) {\r\n      if (!selectedRows.includes(item.id)) {\r\n        selectRow(item);\r\n      }\r\n    }\r\n    // prevent context menu on mobile\r\n    if (isTouchDevice.current) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }\r\n  };\r\n\r\n  const styleClassName = useTableRowStyle({index, isSelected});\r\n\r\n  const RowElement = renderAs || 'div';\r\n  return (\r\n    <RowElement\r\n      role=\"row\"\r\n      aria-rowindex={index + 1 + (hideHeaderRow ? 0 : 1)}\r\n      aria-selected={isSelected}\r\n      tabIndex={-1}\r\n      className={clsx(className, styleClassName)}\r\n      item={RowElement === 'div' ? (undefined as any) : item}\r\n      onDoubleClick={createEventHandler(doubleClickHandler)}\r\n      onKeyDown={createEventHandler(keyboardHandler)}\r\n      onContextMenu={createEventHandler(contextMenuHandler)}\r\n      onPointerEnter={createEventHandler(() => setIsHovered(true))}\r\n      onPointerLeave={createEventHandler(() => setIsHovered(false))}\r\n      style={style}\r\n      {...domProps}\r\n    >\r\n      {columns.map((column, cellIndex) => (\r\n        <TableCell\r\n          rowIndex={index}\r\n          rowIsHovered={isHovered}\r\n          index={cellIndex}\r\n          item={item}\r\n          key={`${item.id}-${column.key}`}\r\n        />\r\n      ))}\r\n    </RowElement>\r\n  );\r\n}\r\n","import {ColumnConfig} from '@common/datatable/column-config';\r\nimport {TableDataItem} from '@common/ui/tables/types/table-data-item';\r\nimport {Skeleton} from '@common/ui/skeleton/skeleton';\r\nimport React, {useContext} from 'react';\r\nimport {Checkbox} from '@common/ui/forms/toggle/checkbox';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\nimport {TableContext} from '@common/ui/tables/table-context';\r\n\r\nexport const CheckboxColumnConfig: ColumnConfig<TableDataItem> = {\r\n  key: 'checkbox',\r\n  header: () => <SelectAllCheckbox />,\r\n  align: 'center',\r\n  width: 'w-24 flex-shrink-0',\r\n  body: (item, row) => {\r\n    if (row.isPlaceholder) {\r\n      return <Skeleton size=\"w-24 h-24\" variant=\"rect\" />;\r\n    }\r\n    return <SelectRowCheckbox item={item} />;\r\n  },\r\n};\r\n\r\ninterface SelectRowCheckboxProps {\r\n  item: TableDataItem;\r\n}\r\nfunction SelectRowCheckbox({item}: SelectRowCheckboxProps) {\r\n  const {selectedRows, toggleRow} = useContext(TableContext);\r\n  return (\r\n    <Checkbox\r\n      checked={selectedRows.includes(item.id)}\r\n      onChange={() => toggleRow(item)}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SelectAllCheckbox() {\r\n  const {trans} = useTrans();\r\n\r\n  const {data, selectedRows, onSelectionChange} = useContext(TableContext);\r\n  const allRowsSelected = !!data.length && data.length === selectedRows.length;\r\n  const someRowsSelected = !allRowsSelected && !!selectedRows.length;\r\n\r\n  return (\r\n    <Checkbox\r\n      aria-label={trans({message: 'Select all'})}\r\n      isIndeterminate={someRowsSelected}\r\n      checked={allRowsSelected}\r\n      onChange={() => {\r\n        if (allRowsSelected) {\r\n          onSelectionChange([]);\r\n        } else {\r\n          onSelectionChange(data.map(d => d.id));\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const ArrowDownwardIcon = createSvgIcon(\r\n  <path d=\"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z\" />\r\n, 'ArrowDownwardOutlined');\r\n","import {useContext, useState} from 'react';\r\nimport clsx from 'clsx';\r\nimport {AnimatePresence, m} from 'framer-motion';\r\nimport {TableContext} from './table-context';\r\nimport {SortDescriptor} from './types/sort-descriptor';\r\nimport {ArrowDownwardIcon} from '../../icons/material/ArrowDownward';\r\nimport {useTableCellStyle} from '@common/ui/tables/style/use-table-cell-style';\r\n\r\ninterface HeaderCellProps {\r\n  index: number;\r\n}\r\nexport function HeaderCell({index}: HeaderCellProps) {\r\n  const {columns, sortDescriptor, onSortChange, enableSorting} =\r\n    useContext(TableContext);\r\n  const column = columns[index];\r\n\r\n  const style = useTableCellStyle({\r\n    index: index,\r\n    isHeader: true,\r\n  });\r\n\r\n  const [isHovered, setIsHovered] = useState(false);\r\n\r\n  const sortingKey = column.sortingKey || column.key;\r\n  const allowSorting = column.allowsSorting && enableSorting;\r\n  const {orderBy, orderDir} = sortDescriptor || {};\r\n\r\n  const sortActive = allowSorting && orderBy === sortingKey;\r\n\r\n  let ariaSort: 'ascending' | 'descending' | 'none' | undefined;\r\n  if (sortActive && orderDir === 'asc') {\r\n    ariaSort = 'ascending';\r\n  } else if (sortActive && orderDir === 'desc') {\r\n    ariaSort = 'descending';\r\n  } else if (allowSorting) {\r\n    ariaSort = 'none';\r\n  }\r\n\r\n  const toggleSorting = () => {\r\n    if (!allowSorting) return;\r\n\r\n    let newSort: SortDescriptor;\r\n\r\n    // if this col was sorted desc, go to asc\r\n    if (sortActive && orderDir === 'desc') {\r\n      newSort = {orderDir: 'asc', orderBy: sortingKey};\r\n\r\n      // if this col was sorted asc, clear sort\r\n    } else if (sortActive && orderDir === 'asc') {\r\n      newSort = {orderBy: undefined, orderDir: undefined};\r\n\r\n      // if sort was on another col, or no sort was applied yet, start from desc\r\n    } else {\r\n      newSort = {orderDir: 'desc', orderBy: sortingKey};\r\n    }\r\n\r\n    onSortChange?.(newSort);\r\n  };\r\n\r\n  const sortVisible = sortActive || isHovered;\r\n  const sortVariants = {\r\n    visible: {opacity: 1, y: 0},\r\n    hidden: {opacity: 0, y: '-25%'},\r\n  };\r\n\r\n  return (\r\n    <div\r\n      role=\"columnheader\"\r\n      tabIndex={-1}\r\n      aria-colindex={index + 1}\r\n      aria-sort={ariaSort}\r\n      className={clsx(\r\n        style,\r\n        'text-muted font-medium text-xs',\r\n        allowSorting && 'cursor-pointer'\r\n      )}\r\n      onMouseEnter={() => {\r\n        setIsHovered(true);\r\n      }}\r\n      onMouseLeave={() => {\r\n        setIsHovered(false);\r\n      }}\r\n      onKeyDown={e => {\r\n        if (e.key === ' ' || e.key === 'Enter') {\r\n          e.preventDefault();\r\n          toggleSorting();\r\n        }\r\n      }}\r\n      onClick={toggleSorting}\r\n    >\r\n      {column.hideHeader ? (\r\n        <div className=\"sr-only\">{column.header()}</div>\r\n      ) : (\r\n        column.header()\r\n      )}\r\n      <AnimatePresence>\r\n        {allowSorting && (\r\n          <m.span\r\n            variants={sortVariants}\r\n            animate={sortVisible ? 'visible' : 'hidden'}\r\n            initial={false}\r\n            transition={{type: 'tween'}}\r\n            key=\"sort-icon\"\r\n            className=\"inline-block ml-6 -mt-2\"\r\n            data-testid=\"table-sort-button\"\r\n            aria-hidden={!sortVisible}\r\n          >\r\n            <ArrowDownwardIcon\r\n              size=\"xs\"\r\n              className={clsx(\r\n                'text-muted',\r\n                orderDir === 'asc' &&\r\n                  orderBy === sortingKey &&\r\n                  'rotate-180 transition-transform'\r\n              )}\r\n            />\r\n          </m.span>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n","import {HeaderCell} from '@common/ui/tables/header-cell';\r\nimport React, {useContext} from 'react';\r\nimport {TableContext} from '@common/ui/tables/table-context';\r\n\r\nexport function TableHeaderRow() {\r\n  const {columns} = useContext(TableContext);\r\n  return (\r\n    <div\r\n      role=\"row\"\r\n      aria-rowindex={1}\r\n      tabIndex={-1}\r\n      className=\"flex gap-x-16 px-16\"\r\n    >\r\n      {columns.map((column, columnIndex) => (\r\n        <HeaderCell index={columnIndex} key={column.key} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React, {\r\n  cloneElement,\r\n  ComponentPropsWithoutRef,\r\n  Fragment,\r\n  JSXElementConstructor,\r\n  MutableRefObject,\r\n  ReactElement,\r\n  useCallback,\r\n  useContext,\r\n  useMemo,\r\n} from 'react';\r\nimport {useControlledState} from '@react-stately/utils';\r\nimport {SortDescriptor} from './types/sort-descriptor';\r\nimport {useGridNavigation} from './navigate-grid';\r\nimport {RowElementProps, TableRow} from './table-row';\r\nimport {\r\n  TableContext,\r\n  TableContextValue,\r\n  TableSelectionStyle,\r\n} from './table-context';\r\nimport {ColumnConfig} from '../../datatable/column-config';\r\nimport {TableDataItem} from './types/table-data-item';\r\nimport clsx from 'clsx';\r\nimport {useInteractOutside} from '@react-aria/interactions';\r\nimport {mergeProps, useObjectRef} from '@react-aria/utils';\r\nimport {isCtrlKeyPressed} from '@common/utils/keybinds/is-ctrl-key-pressed';\r\nimport {useIsMobileMediaQuery} from '@common/utils/hooks/is-mobile-media-query';\r\nimport {CheckboxColumnConfig} from '@common/ui/tables/checkbox-column-config';\r\nimport {TableHeaderRow} from '@common/ui/tables/table-header-row';\r\n\r\nexport interface TableProps<T extends TableDataItem>\r\n  extends ComponentPropsWithoutRef<'table'> {\r\n  className?: string;\r\n  columns: ColumnConfig<T>[];\r\n  hideHeaderRow?: boolean;\r\n  data: T[];\r\n  meta?: any;\r\n  tableRef?: MutableRefObject<HTMLTableElement>;\r\n  selectedRows?: (number | string)[];\r\n  defaultSelectedRows?: (number | string)[];\r\n  onSelectionChange?: (keys: (number | string)[]) => void;\r\n  sortDescriptor?: SortDescriptor;\r\n  onSortChange?: (descriptor: SortDescriptor) => any;\r\n  enableSorting?: boolean;\r\n  onDelete?: (items: T[]) => void;\r\n  enableSelection?: boolean;\r\n  selectionStyle?: TableSelectionStyle;\r\n  ariaLabelledBy?: string;\r\n  onAction?: (item: T, index: number) => void;\r\n  selectRowOnContextMenu?: boolean;\r\n  renderRowAs?: JSXElementConstructor<RowElementProps<T>>;\r\n  tableBody?: ReactElement<TableBodyProps>;\r\n  hideBorder?: boolean;\r\n  closeOnInteractOutside?: boolean;\r\n  collapseOnMobile?: boolean;\r\n  cellHeight?: string;\r\n  headerCellHeight?: string;\r\n}\r\nexport function Table<T extends TableDataItem>({\r\n  className,\r\n  columns: userColumns,\r\n  collapseOnMobile = true,\r\n  hideHeaderRow = false,\r\n  hideBorder = false,\r\n  data,\r\n  selectedRows: propsSelectedRows,\r\n  defaultSelectedRows: propsDefaultSelectedRows,\r\n  onSelectionChange: propsOnSelectionChange,\r\n  sortDescriptor: propsSortDescriptor,\r\n  onSortChange: propsOnSortChange,\r\n  enableSorting = true,\r\n  onDelete,\r\n  enableSelection = true,\r\n  selectionStyle = 'checkbox',\r\n  ariaLabelledBy,\r\n  selectRowOnContextMenu,\r\n  onAction,\r\n  renderRowAs,\r\n  tableBody,\r\n  meta,\r\n  tableRef: propsTableRef,\r\n  closeOnInteractOutside = false,\r\n  cellHeight,\r\n  headerCellHeight,\r\n  ...domProps\r\n}: TableProps<T>) {\r\n  const isMobile = useIsMobileMediaQuery();\r\n  const isCollapsedMode = !!isMobile && collapseOnMobile;\r\n  if (isCollapsedMode) {\r\n    hideHeaderRow = true;\r\n    hideBorder = true;\r\n  }\r\n\r\n  const [selectedRows, onSelectionChange] = useControlledState(\r\n    propsSelectedRows,\r\n    propsDefaultSelectedRows || [],\r\n    propsOnSelectionChange,\r\n  );\r\n\r\n  const [sortDescriptor, onSortChange] = useControlledState(\r\n    propsSortDescriptor,\r\n    undefined,\r\n    propsOnSortChange,\r\n  );\r\n\r\n  const toggleRow = useCallback(\r\n    (item: TableDataItem) => {\r\n      const newValues = [...selectedRows];\r\n      if (!newValues.includes(item.id)) {\r\n        newValues.push(item.id);\r\n      } else {\r\n        const index = newValues.indexOf(item.id);\r\n        newValues.splice(index, 1);\r\n      }\r\n      onSelectionChange(newValues);\r\n    },\r\n    [selectedRows, onSelectionChange],\r\n  );\r\n\r\n  const selectRow = useCallback(\r\n    // allow deselecting all rows by passing in null\r\n    (item: TableDataItem | null, merge?: boolean) => {\r\n      let newValues: (string | number)[] = [];\r\n      if (item) {\r\n        newValues = merge\r\n          ? [...selectedRows?.filter(id => id !== item.id), item.id]\r\n          : [item.id];\r\n      }\r\n      onSelectionChange(newValues);\r\n    },\r\n    [selectedRows, onSelectionChange],\r\n  );\r\n\r\n  // add checkbox columns to config, if selection is enabled\r\n  const columns = useMemo(() => {\r\n    const filteredColumns = userColumns.filter(c => {\r\n      const visibleInMode = c.visibleInMode || 'regular';\r\n      if (visibleInMode === 'all') {\r\n        return true;\r\n      }\r\n      if (visibleInMode === 'compact' && isCollapsedMode) {\r\n        return true;\r\n      }\r\n      if (visibleInMode === 'regular' && !isCollapsedMode) {\r\n        return true;\r\n      }\r\n    });\r\n    const showCheckboxCell =\r\n      enableSelection && selectionStyle !== 'highlight' && !isMobile;\r\n    if (showCheckboxCell) {\r\n      filteredColumns.unshift(CheckboxColumnConfig);\r\n    }\r\n    return filteredColumns;\r\n  }, [isMobile, userColumns, enableSelection, selectionStyle, isCollapsedMode]);\r\n\r\n  const contextValue: TableContextValue<T> = {\r\n    isCollapsedMode,\r\n    cellHeight,\r\n    headerCellHeight,\r\n    hideBorder,\r\n    hideHeaderRow,\r\n    selectedRows,\r\n    onSelectionChange,\r\n    enableSorting,\r\n    enableSelection,\r\n    selectionStyle,\r\n    data,\r\n    columns,\r\n    sortDescriptor,\r\n    onSortChange,\r\n    toggleRow,\r\n    selectRow,\r\n    onAction,\r\n    selectRowOnContextMenu,\r\n    meta,\r\n    collapseOnMobile,\r\n  };\r\n\r\n  const navProps = useGridNavigation({\r\n    cellCount: enableSelection ? columns.length + 1 : columns.length,\r\n    rowCount: data.length + 1,\r\n  });\r\n\r\n  const tableBodyProps: TableBodyProps = {\r\n    renderRowAs: renderRowAs as any,\r\n  };\r\n\r\n  if (!tableBody) {\r\n    tableBody = <BasicTableBody {...tableBodyProps} />;\r\n  } else {\r\n    tableBody = cloneElement(tableBody, tableBodyProps);\r\n  }\r\n\r\n  // deselect rows when clicking outside the table\r\n  const tableRef = useObjectRef(propsTableRef);\r\n  useInteractOutside({\r\n    ref: tableRef,\r\n    onInteractOutside: e => {\r\n      if (\r\n        closeOnInteractOutside &&\r\n        enableSelection &&\r\n        selectedRows?.length &&\r\n        // don't deselect if clicking on a dialog (for example is table row has a context menu)\r\n        !(e.target as HTMLElement).closest('[role=\"dialog\"]')\r\n      ) {\r\n        onSelectionChange([]);\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <TableContext.Provider value={contextValue as any}>\r\n      <div\r\n        {...mergeProps(domProps, navProps, {\r\n          onKeyDown: (e: KeyboardEvent) => {\r\n            if (e.key === 'Escape') {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              if (selectedRows?.length) {\r\n                onSelectionChange([]);\r\n              }\r\n            } else if (e.key === 'Delete') {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              if (selectedRows?.length) {\r\n                onDelete?.(\r\n                  data.filter(item => selectedRows?.includes(item.id)),\r\n                );\r\n              }\r\n            } else if (isCtrlKeyPressed(e) && e.key === 'a') {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              if (enableSelection) {\r\n                onSelectionChange(data.map(item => item.id));\r\n              }\r\n            }\r\n          },\r\n        })}\r\n        role=\"grid\"\r\n        tabIndex={0}\r\n        aria-rowcount={data.length + 1}\r\n        aria-colcount={columns.length + 1}\r\n        ref={tableRef}\r\n        aria-multiselectable={enableSelection ? true : undefined}\r\n        aria-labelledby={ariaLabelledBy}\r\n        className={clsx(\r\n          className,\r\n          'isolate select-none text-sm outline-none focus-visible:ring-2',\r\n        )}\r\n      >\r\n        {!hideHeaderRow && <TableHeaderRow />}\r\n        {tableBody}\r\n      </div>\r\n    </TableContext.Provider>\r\n  );\r\n}\r\n\r\nexport interface TableBodyProps {\r\n  renderRowAs?: TableProps<TableDataItem>['renderRowAs'];\r\n}\r\nfunction BasicTableBody({renderRowAs}: TableBodyProps) {\r\n  const {data} = useContext(TableContext);\r\n  return (\r\n    <Fragment>\r\n      {data.map((item, rowIndex) => (\r\n        <TableRow\r\n          item={item}\r\n          index={rowIndex}\r\n          key={item.id}\r\n          renderAs={renderRowAs}\r\n        />\r\n      ))}\r\n    </Fragment>\r\n  );\r\n}\r\n","import clsx from 'clsx';\r\nimport React, {\r\n  ComponentProps,\r\n  ComponentPropsWithoutRef,\r\n  forwardRef,\r\n} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\r\nimport {AvatarPlaceholderIcon} from '@common/auth/ui/account-settings/avatar/avatar-placeholder-icon';\r\n\r\ntype Size = 'xs' | 'sm' | 'md' | 'lg' | 'xl' | string;\r\n\r\nexport interface AvatarProps extends ComponentPropsWithoutRef<any> {\r\n  className?: string;\r\n  src?: string;\r\n  label?: string;\r\n  circle?: boolean;\r\n  size?: Size;\r\n  link?: string;\r\n  fallback?: 'initials' | 'generic';\r\n  lazy?: boolean;\r\n}\r\nexport const Avatar = forwardRef<HTMLImageElement, AvatarProps>(\r\n  (\r\n    {\r\n      className,\r\n      circle,\r\n      size = 'md',\r\n      src,\r\n      link,\r\n      label,\r\n      fallback = 'generic',\r\n      lazy = true,\r\n      ...domProps\r\n    },\r\n    ref,\r\n  ) => {\r\n    let renderedAvatar = src ? (\r\n      <img\r\n        ref={ref}\r\n        src={src}\r\n        alt={label}\r\n        loading={lazy ? 'lazy' : undefined}\r\n        className=\"block h-full w-full object-cover\"\r\n      />\r\n    ) : (\r\n      <div className=\"h-full w-full bg-alt dark:bg-chip\">\r\n        <AvatarPlaceholderIcon\r\n          viewBox=\"0 0 48 48\"\r\n          className=\"h-full w-full text-muted\"\r\n        />\r\n      </div>\r\n    );\r\n\r\n    if (label) {\r\n      renderedAvatar = <Tooltip label={label}>{renderedAvatar}</Tooltip>;\r\n    }\r\n\r\n    const wrapperProps: ComponentProps<any> = {\r\n      ...domProps,\r\n      className: clsx(\r\n        className,\r\n        'relative block overflow-hidden select-none flex-shrink-0',\r\n        getSizeClassName(size),\r\n        circle ? 'rounded-full' : 'rounded',\r\n      ),\r\n    };\r\n\r\n    return link ? (\r\n      <Link {...wrapperProps} to={link}>\r\n        {renderedAvatar}\r\n      </Link>\r\n    ) : (\r\n      <div {...wrapperProps}>{renderedAvatar}</div>\r\n    );\r\n  },\r\n);\r\n\r\nfunction getSizeClassName(size: Size) {\r\n  switch (size) {\r\n    case 'xs':\r\n      return 'w-18 h-18';\r\n    case 'sm':\r\n      return 'w-24 h-24';\r\n    case 'md':\r\n      return 'w-32 h-32';\r\n    case 'lg':\r\n      return 'w-40 h-40';\r\n    case 'xl':\r\n      return 'w-60 h-60';\r\n    // allow overriding with custom classNames\r\n    default:\r\n      return size;\r\n  }\r\n}\r\n","import React, {\r\n  Children,\r\n  cloneElement,\r\n  isValidElement,\r\n  ReactElement,\r\n} from 'react';\r\nimport clsx from 'clsx';\r\nimport type {ChipProps} from './chip';\r\n\r\nexport interface ChipListProps {\r\n  className?: string;\r\n  children?: ReactElement | ReactElement[];\r\n  size?: ChipProps['size'];\r\n  radius?: ChipProps['radius'];\r\n  color?: ChipProps['color'];\r\n  selectable?: ChipProps['selectable'];\r\n  wrap?: boolean;\r\n}\r\nexport function ChipList({\r\n  className,\r\n  children,\r\n  size,\r\n  color,\r\n  radius,\r\n  selectable,\r\n  wrap = true,\r\n}: ChipListProps) {\r\n  return (\r\n    <div\r\n      className={clsx(\r\n        'flex items-center gap-8',\r\n        wrap && 'flex-wrap',\r\n        className,\r\n      )}\r\n    >\r\n      {Children.map(children, chip => {\r\n        if (isValidElement<ChipProps>(chip)) {\r\n          return cloneElement<ChipProps>(chip, {\r\n            size,\r\n            color,\r\n            selectable,\r\n            radius,\r\n          });\r\n        }\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import {Fragment, memo} from 'react';\r\nimport {useNumberFormatter} from './use-number-formatter';\r\nimport {NumberFormatOptions} from '@internationalized/number';\r\nimport {shallowEqual} from '../utils/shallow-equal';\r\n\r\ninterface FormattedNumberProps extends NumberFormatOptions {\r\n  value: number;\r\n}\r\nexport const FormattedNumber = memo(\r\n  ({value, ...options}: FormattedNumberProps) => {\r\n    const formatter = useNumberFormatter(options);\r\n\r\n    if (isNaN(value)) {\r\n      value = 0;\r\n    }\r\n\r\n    return <Fragment>{formatter.format(value)}</Fragment>;\r\n  },\r\n  shallowEqual\r\n);\r\n","var $2d805fd52bb48883$exports = {};\n$2d805fd52bb48883$exports = {\n    \"alpha\": `\\u{623}\\u{644}\\u{641}\\u{627}`,\n    \"blue\": `\\u{623}\\u{632}\\u{631}\\u{642}`,\n    \"brightness\": `\\u{627}\\u{644}\\u{633}\\u{637}\\u{648}\\u{639}`,\n    \"green\": `\\u{623}\\u{62E}\\u{636}\\u{631}`,\n    \"hue\": `\\u{62F}\\u{631}\\u{62C}\\u{629} \\u{627}\\u{644}\\u{644}\\u{648}\\u{646}`,\n    \"lightness\": `\\u{627}\\u{644}\\u{625}\\u{636}\\u{627}\\u{621}\\u{629}`,\n    \"red\": `\\u{623}\\u{62D}\\u{645}\\u{631}`,\n    \"saturation\": `\\u{627}\\u{644}\\u{62A}\\u{634}\\u{628}\\u{639}`\n};\n\n\nexport {$2d805fd52bb48883$exports as default};\n//# sourceMappingURL=ar-AE.module.js.map\n","var $6c28468dc1df643c$exports = {};\n$6c28468dc1df643c$exports = {\n    \"alpha\": `\\u{410}\\u{43B}\\u{444}\\u{430}`,\n    \"blue\": `\\u{421}\\u{438}\\u{43D}\\u{44C}\\u{43E}`,\n    \"brightness\": `\\u{42F}\\u{440}\\u{43A}\\u{43E}\\u{441}\\u{442}`,\n    \"green\": `\\u{417}\\u{435}\\u{43B}\\u{435}\\u{43D}\\u{43E}`,\n    \"hue\": `\\u{41E}\\u{442}\\u{442}\\u{435}\\u{43D}\\u{44A}\\u{43A}`,\n    \"lightness\": `\\u{41B}\\u{435}\\u{43A}\\u{43E}\\u{442}\\u{430}`,\n    \"red\": `\\u{427}\\u{435}\\u{440}\\u{432}\\u{435}\\u{43D}\\u{43E}`,\n    \"saturation\": `\\u{41D}\\u{430}\\u{441}\\u{438}\\u{442}\\u{435}\\u{43D}\\u{43E}\\u{441}\\u{442}`\n};\n\n\nexport {$6c28468dc1df643c$exports as default};\n//# sourceMappingURL=bg-BG.module.js.map\n","var $807554f8230db0ed$exports = {};\n$807554f8230db0ed$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Modr\\xe1`,\n    \"brightness\": `Jas`,\n    \"green\": `Zelen\\xe1`,\n    \"hue\": `Odst\\xedn`,\n    \"lightness\": `Sv\\u{11B}tlost`,\n    \"red\": `\\u{10C}erven\\xe1`,\n    \"saturation\": `Sytost`\n};\n\n\nexport {$807554f8230db0ed$exports as default};\n//# sourceMappingURL=cs-CZ.module.js.map\n","var $7097f64386f1761c$exports = {};\n$7097f64386f1761c$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Bl\\xe5`,\n    \"brightness\": `Lysstyrke`,\n    \"green\": `Gr\\xf8n`,\n    \"hue\": `Tone`,\n    \"lightness\": `Lyshed`,\n    \"red\": `R\\xf8d`,\n    \"saturation\": `Farvem\\xe6tning`\n};\n\n\nexport {$7097f64386f1761c$exports as default};\n//# sourceMappingURL=da-DK.module.js.map\n","var $bdd847d8beb08799$exports = {};\n$bdd847d8beb08799$exports = {\n    \"alpha\": `Alpha`,\n    \"blue\": `Blau`,\n    \"brightness\": `Helligkeit`,\n    \"green\": `Gr\\xfcn`,\n    \"hue\": `Farbton`,\n    \"lightness\": `Leuchtkraft`,\n    \"red\": `Rot`,\n    \"saturation\": `S\\xe4ttigung`\n};\n\n\nexport {$bdd847d8beb08799$exports as default};\n//# sourceMappingURL=de-DE.module.js.map\n","var $a53e00b683950971$exports = {};\n$a53e00b683950971$exports = {\n    \"alpha\": `\\u{386}\\u{3BB}\\u{3C6}\\u{3B1}`,\n    \"blue\": `\\u{39C}\\u{3C0}\\u{3BB}\\u{3B5}`,\n    \"brightness\": `\\u{3A6}\\u{3C9}\\u{3C4}\\u{3B5}\\u{3B9}\\u{3BD}\\u{3CC}\\u{3C4}\\u{3B7}\\u{3C4}\\u{3B1}`,\n    \"green\": `\\u{3A0}\\u{3C1}\\u{3AC}\\u{3C3}\\u{3B9}\\u{3BD}\\u{3BF}`,\n    \"hue\": `\\u{3A4}\\u{3CC}\\u{3BD}\\u{3BF}\\u{3C2}`,\n    \"lightness\": `\\u{3A6}\\u{3C9}\\u{3C4}\\u{3B5}\\u{3B9}\\u{3BD}\\u{3CC}\\u{3C4}\\u{3B7}\\u{3C4}\\u{3B1}`,\n    \"red\": `\\u{39A}\\u{3CC}\\u{3BA}\\u{3BA}\\u{3B9}\\u{3BD}\\u{3BF}`,\n    \"saturation\": `\\u{39A}\\u{3BF}\\u{3C1}\\u{3B5}\\u{3C3}\\u{3BC}\\u{3CC}\\u{3C2}`\n};\n\n\nexport {$a53e00b683950971$exports as default};\n//# sourceMappingURL=el-GR.module.js.map\n","var $21cdd87e84f28d89$exports = {};\n$21cdd87e84f28d89$exports = {\n    \"hue\": `Hue`,\n    \"saturation\": `Saturation`,\n    \"lightness\": `Lightness`,\n    \"brightness\": `Brightness`,\n    \"red\": `Red`,\n    \"green\": `Green`,\n    \"blue\": `Blue`,\n    \"alpha\": `Alpha`\n};\n\n\nexport {$21cdd87e84f28d89$exports as default};\n//# sourceMappingURL=en-US.module.js.map\n","var $92fee9698e4d675a$exports = {};\n$92fee9698e4d675a$exports = {\n    \"alpha\": `Alpha`,\n    \"blue\": `Azul`,\n    \"brightness\": `Brillo`,\n    \"green\": `Verde`,\n    \"hue\": `Tono`,\n    \"lightness\": `Luminosidad`,\n    \"red\": `Rojo`,\n    \"saturation\": `Saturaci\\xf3n`\n};\n\n\nexport {$92fee9698e4d675a$exports as default};\n//# sourceMappingURL=es-ES.module.js.map\n","var $7ea012e91a5ad3ee$exports = {};\n$7ea012e91a5ad3ee$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Sinine`,\n    \"brightness\": `Heledus`,\n    \"green\": `Roheline`,\n    \"hue\": `V\\xe4rv`,\n    \"lightness\": `Valgus`,\n    \"red\": `Punane`,\n    \"saturation\": `K\\xfcllastus`\n};\n\n\nexport {$7ea012e91a5ad3ee$exports as default};\n//# sourceMappingURL=et-EE.module.js.map\n","var $8460c13bb2d75345$exports = {};\n$8460c13bb2d75345$exports = {\n    \"alpha\": `Alpha`,\n    \"blue\": `Sininen`,\n    \"brightness\": `Kirkkaus`,\n    \"green\": `Vihre\\xe4`,\n    \"hue\": `S\\xe4vy`,\n    \"lightness\": `Valom\\xe4\\xe4r\\xe4`,\n    \"red\": `Punainen`,\n    \"saturation\": `V\\xe4rikyll\\xe4isyys`\n};\n\n\nexport {$8460c13bb2d75345$exports as default};\n//# sourceMappingURL=fi-FI.module.js.map\n","var $2a2d5dc14e680587$exports = {};\n$2a2d5dc14e680587$exports = {\n    \"alpha\": `Alpha`,\n    \"blue\": `Bleu`,\n    \"brightness\": `Luminosit\\xe9`,\n    \"green\": `Vert`,\n    \"hue\": `Teinte`,\n    \"lightness\": `Luminosit\\xe9`,\n    \"red\": `Rouge`,\n    \"saturation\": `Saturation`\n};\n\n\nexport {$2a2d5dc14e680587$exports as default};\n//# sourceMappingURL=fr-FR.module.js.map\n","var $9a3f292371bb0589$exports = {};\n$9a3f292371bb0589$exports = {\n    \"alpha\": `\\u{5D0}\\u{5DC}\\u{5E4}\\u{5D0}`,\n    \"blue\": `\\u{5DB}\\u{5D7}\\u{5D5}\\u{5DC}`,\n    \"brightness\": `\\u{5D1}\\u{5D4}\\u{5D9}\\u{5E8}\\u{5D5}\\u{5EA}`,\n    \"green\": `\\u{5D9}\\u{5E8}\\u{5D5}\\u{5E7}`,\n    \"hue\": `\\u{5D2}\\u{5D5}\\u{5D5}\\u{5DF}`,\n    \"lightness\": `\\u{5DB}\\u{5DE}\\u{5D5}\\u{5EA} \\u{5D0}\\u{5D5}\\u{5E8}`,\n    \"red\": `\\u{5D0}\\u{5D3}\\u{5D5}\\u{5DD}`,\n    \"saturation\": `\\u{5E8}\\u{5D5}\\u{5D5}\\u{5D9}\\u{5D4}`\n};\n\n\nexport {$9a3f292371bb0589$exports as default};\n//# sourceMappingURL=he-IL.module.js.map\n","var $4742231a685fa068$exports = {};\n$4742231a685fa068$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Plava`,\n    \"brightness\": `Svjetlina`,\n    \"green\": `Zelena`,\n    \"hue\": `Nijansa`,\n    \"lightness\": `Osvijetljenost`,\n    \"red\": `Crvena`,\n    \"saturation\": `Zasi\\u{107}enost`\n};\n\n\nexport {$4742231a685fa068$exports as default};\n//# sourceMappingURL=hr-HR.module.js.map\n","var $05e247fd2960981e$exports = {};\n$05e247fd2960981e$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `K\\xe9k`,\n    \"brightness\": `F\\xe9nyess\\xe9g`,\n    \"green\": `Z\\xf6ld`,\n    \"hue\": `Sz\\xedn\\xe1rnyalat`,\n    \"lightness\": `Vil\\xe1goss\\xe1g`,\n    \"red\": `Piros`,\n    \"saturation\": `Tel\\xedtetts\\xe9g`\n};\n\n\nexport {$05e247fd2960981e$exports as default};\n//# sourceMappingURL=hu-HU.module.js.map\n","var $a67524a79ccbe190$exports = {};\n$a67524a79ccbe190$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Blu`,\n    \"brightness\": `Luminosit\\xe0`,\n    \"green\": `Verde`,\n    \"hue\": `Tonalit\\xe0`,\n    \"lightness\": `Luminosit\\xe0`,\n    \"red\": `Rosso`,\n    \"saturation\": `Saturazione`\n};\n\n\nexport {$a67524a79ccbe190$exports as default};\n//# sourceMappingURL=it-IT.module.js.map\n","var $a9eefe9d6c8cb7d5$exports = {};\n$a9eefe9d6c8cb7d5$exports = {\n    \"alpha\": `\\u{30A2}\\u{30EB}\\u{30D5}\\u{30A1}`,\n    \"blue\": `\\u{9752}`,\n    \"brightness\": `\\u{660E}\\u{308B}\\u{3055}`,\n    \"green\": `\\u{7DD1}`,\n    \"hue\": `\\u{8272}\\u{76F8}`,\n    \"lightness\": `\\u{660E}\\u{5EA6}`,\n    \"red\": `\\u{8D64}`,\n    \"saturation\": `\\u{5F69}\\u{5EA6}`\n};\n\n\nexport {$a9eefe9d6c8cb7d5$exports as default};\n//# sourceMappingURL=ja-JP.module.js.map\n","var $4a6b836d4f1bfaba$exports = {};\n$4a6b836d4f1bfaba$exports = {\n    \"alpha\": `\\u{C54C}\\u{D30C}`,\n    \"blue\": `\\u{D30C}\\u{B791}`,\n    \"brightness\": `\\u{BA85}\\u{B3C4}`,\n    \"green\": `\\u{CD08}\\u{B85D}`,\n    \"hue\": `\\u{C0C9}\\u{C870}`,\n    \"lightness\": `\\u{BC1D}\\u{AE30}`,\n    \"red\": `\\u{BE68}\\u{AC15}`,\n    \"saturation\": `\\u{CC44}\\u{B3C4}`\n};\n\n\nexport {$4a6b836d4f1bfaba$exports as default};\n//# sourceMappingURL=ko-KR.module.js.map\n","var $c950e4b1c482abde$exports = {};\n$c950e4b1c482abde$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `M\\u{117}lyna`,\n    \"brightness\": `Ry\\u{161}kumas`,\n    \"green\": `\\u{17D}alia`,\n    \"hue\": `Atspalvis`,\n    \"lightness\": `\\u{160}viesumas`,\n    \"red\": `Raudona`,\n    \"saturation\": `\\u{12E}sotinimas`\n};\n\n\nexport {$c950e4b1c482abde$exports as default};\n//# sourceMappingURL=lt-LT.module.js.map\n","var $d10d6b60dc50b438$exports = {};\n$d10d6b60dc50b438$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Zila`,\n    \"brightness\": `Spilgtums`,\n    \"green\": `Za\\u{13C}a`,\n    \"hue\": `Nokr\\u{101}sa`,\n    \"lightness\": `Gai\\u{161}ums`,\n    \"red\": `Sarkana`,\n    \"saturation\": `Pies\\u{101}tin\\u{101}jums`\n};\n\n\nexport {$d10d6b60dc50b438$exports as default};\n//# sourceMappingURL=lv-LV.module.js.map\n","var $371a732b2494f452$exports = {};\n$371a732b2494f452$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Bl\\xe5`,\n    \"brightness\": `Lysstyrke`,\n    \"green\": `Gr\\xf8nn`,\n    \"hue\": `Fargetone`,\n    \"lightness\": `Lyshet`,\n    \"red\": `R\\xf8d`,\n    \"saturation\": `Metning`\n};\n\n\nexport {$371a732b2494f452$exports as default};\n//# sourceMappingURL=nb-NO.module.js.map\n","var $6d042cae6243464b$exports = {};\n$6d042cae6243464b$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Blauw`,\n    \"brightness\": `Helderheid`,\n    \"green\": `Groen`,\n    \"hue\": `Kleurtoon`,\n    \"lightness\": `Lichtsterkte`,\n    \"red\": `Rood`,\n    \"saturation\": `Verzadiging`\n};\n\n\nexport {$6d042cae6243464b$exports as default};\n//# sourceMappingURL=nl-NL.module.js.map\n","var $d9ab5c2611e0bcd3$exports = {};\n$d9ab5c2611e0bcd3$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Niebieski`,\n    \"brightness\": `Jasno\\u{15B}\\u{107}`,\n    \"green\": `Zielony`,\n    \"hue\": `Odcie\\u{144}`,\n    \"lightness\": `Jaskrawo\\u{15B}\\u{107}`,\n    \"red\": `Czerwony`,\n    \"saturation\": `Nasycenie`\n};\n\n\nexport {$d9ab5c2611e0bcd3$exports as default};\n//# sourceMappingURL=pl-PL.module.js.map\n","var $73f77c9902e29ca6$exports = {};\n$73f77c9902e29ca6$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Azul`,\n    \"brightness\": `Brilho`,\n    \"green\": `Verde`,\n    \"hue\": `Matiz`,\n    \"lightness\": `Luminosidade`,\n    \"red\": `Vermelho`,\n    \"saturation\": `Satura\\xe7\\xe3o`\n};\n\n\nexport {$73f77c9902e29ca6$exports as default};\n//# sourceMappingURL=pt-BR.module.js.map\n","var $4f461eb266a95c10$exports = {};\n$4f461eb266a95c10$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Azul`,\n    \"brightness\": `Luminosidade`,\n    \"green\": `Verde`,\n    \"hue\": `Tonalidade`,\n    \"lightness\": `Claridade`,\n    \"red\": `Vermelho`,\n    \"saturation\": `Satura\\xe7\\xe3o`\n};\n\n\nexport {$4f461eb266a95c10$exports as default};\n//# sourceMappingURL=pt-PT.module.js.map\n","var $dc46bea2f2597899$exports = {};\n$dc46bea2f2597899$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Albastru`,\n    \"brightness\": `Luminozitate`,\n    \"green\": `Verde`,\n    \"hue\": `Nuan\\u{21B}\\u{103}`,\n    \"lightness\": `Luminozitate`,\n    \"red\": `Ro\\u{219}u`,\n    \"saturation\": `Satura\\u{21B}ie`\n};\n\n\nexport {$dc46bea2f2597899$exports as default};\n//# sourceMappingURL=ro-RO.module.js.map\n","var $622bbd6719cc95af$exports = {};\n$622bbd6719cc95af$exports = {\n    \"alpha\": `\\u{410}\\u{43B}\\u{44C}\\u{444}\\u{430}`,\n    \"blue\": `\\u{421}\\u{438}\\u{43D}\\u{438}\\u{439}`,\n    \"brightness\": `\\u{42F}\\u{440}\\u{43A}\\u{43E}\\u{441}\\u{442}\\u{44C}`,\n    \"green\": `\\u{417}\\u{435}\\u{43B}\\u{435}\\u{43D}\\u{44B}\\u{439}`,\n    \"hue\": `\\u{41E}\\u{442}\\u{442}\\u{435}\\u{43D}\\u{43E}\\u{43A}`,\n    \"lightness\": `\\u{41E}\\u{441}\\u{432}\\u{435}\\u{449}\\u{435}\\u{43D}\\u{43D}\\u{43E}\\u{441}\\u{442}\\u{44C}`,\n    \"red\": `\\u{41A}\\u{440}\\u{430}\\u{441}\\u{43D}\\u{44B}\\u{439}`,\n    \"saturation\": `\\u{41D}\\u{430}\\u{441}\\u{44B}\\u{449}\\u{435}\\u{43D}\\u{43D}\\u{43E}\\u{441}\\u{442}\\u{44C}`\n};\n\n\nexport {$622bbd6719cc95af$exports as default};\n//# sourceMappingURL=ru-RU.module.js.map\n","var $4da03c1ecd9a9c7d$exports = {};\n$4da03c1ecd9a9c7d$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Modr\\xe1`,\n    \"brightness\": `Jas`,\n    \"green\": `Zelen\\xe1`,\n    \"hue\": `Odtie\\u{148}`,\n    \"lightness\": `Svetlos\\u{165}`,\n    \"red\": `\\u{10C}erven\\xe1`,\n    \"saturation\": `S\\xfdtos\\u{165}`\n};\n\n\nexport {$4da03c1ecd9a9c7d$exports as default};\n//# sourceMappingURL=sk-SK.module.js.map\n","var $edb6b2fe456ed4e8$exports = {};\n$edb6b2fe456ed4e8$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Modra`,\n    \"brightness\": `Svetlost`,\n    \"green\": `Zelena`,\n    \"hue\": `Barva`,\n    \"lightness\": `Lahkost`,\n    \"red\": `Rde\\u{10D}a`,\n    \"saturation\": `Nasi\\u{10D}enost`\n};\n\n\nexport {$edb6b2fe456ed4e8$exports as default};\n//# sourceMappingURL=sl-SI.module.js.map\n","var $264cd81c52b30815$exports = {};\n$264cd81c52b30815$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Plava`,\n    \"brightness\": `Osvetljenost`,\n    \"green\": `Zelena`,\n    \"hue\": `Nijansa`,\n    \"lightness\": `Osvetljenje`,\n    \"red\": `Crvena`,\n    \"saturation\": `Zasi\\u{107}enje`\n};\n\n\nexport {$264cd81c52b30815$exports as default};\n//# sourceMappingURL=sr-SP.module.js.map\n","var $6f80afde0270dda7$exports = {};\n$6f80afde0270dda7$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Bl\\xe5tt`,\n    \"brightness\": `Ljusstyrka`,\n    \"green\": `Gr\\xf6nt`,\n    \"hue\": `Nyans`,\n    \"lightness\": `Ljushet`,\n    \"red\": `R\\xf6tt`,\n    \"saturation\": `M\\xe4ttnad`\n};\n\n\nexport {$6f80afde0270dda7$exports as default};\n//# sourceMappingURL=sv-SE.module.js.map\n","var $23a92651c6957668$exports = {};\n$23a92651c6957668$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Mavi`,\n    \"brightness\": `Parlakl\\u{131}k`,\n    \"green\": `Ye\\u{15F}il`,\n    \"hue\": `Ton`,\n    \"lightness\": `Canl\\u{131}l\\u{131}k`,\n    \"red\": `K\\u{131}rm\\u{131}z\\u{131}`,\n    \"saturation\": `Doygunluk`\n};\n\n\nexport {$23a92651c6957668$exports as default};\n//# sourceMappingURL=tr-TR.module.js.map\n","var $0f9b1074d04f4954$exports = {};\n$0f9b1074d04f4954$exports = {\n    \"alpha\": `\\u{410}\\u{43B}\\u{44C}\\u{444}\\u{430}`,\n    \"blue\": `\\u{421}\\u{438}\\u{43D}\\u{456}\\u{439}`,\n    \"brightness\": `\\u{42F}\\u{441}\\u{43A}\\u{440}\\u{430}\\u{432}\\u{456}\\u{441}\\u{442}\\u{44C}`,\n    \"green\": `\\u{417}\\u{435}\\u{43B}\\u{435}\\u{43D}\\u{438}\\u{439}`,\n    \"hue\": `\\u{422}\\u{43E}\\u{43D}`,\n    \"lightness\": `\\u{41E}\\u{441}\\u{432}\\u{456}\\u{442}\\u{43B}\\u{435}\\u{43D}\\u{456}\\u{441}\\u{442}\\u{44C}`,\n    \"red\": `\\u{427}\\u{435}\\u{440}\\u{432}\\u{43E}\\u{43D}\\u{438}\\u{439}`,\n    \"saturation\": `\\u{41D}\\u{430}\\u{441}\\u{438}\\u{447}\\u{435}\\u{43D}\\u{456}\\u{441}\\u{442}\\u{44C}`\n};\n\n\nexport {$0f9b1074d04f4954$exports as default};\n//# sourceMappingURL=uk-UA.module.js.map\n","var $a9cedf75b94e4916$exports = {};\n$a9cedf75b94e4916$exports = {\n    \"alpha\": `Alpha`,\n    \"blue\": `\\u{84DD}\\u{8272}`,\n    \"brightness\": `\\u{4EAE}\\u{5EA6}`,\n    \"green\": `\\u{7EFF}\\u{8272}`,\n    \"hue\": `\\u{8272}\\u{76F8}`,\n    \"lightness\": `\\u{660E}\\u{4EAE}\\u{5EA6}`,\n    \"red\": `\\u{7EA2}\\u{8272}`,\n    \"saturation\": `\\u{9971}\\u{548C}\\u{5EA6}`\n};\n\n\nexport {$a9cedf75b94e4916$exports as default};\n//# sourceMappingURL=zh-CN.module.js.map\n","var $37cff576474bc8d4$exports = {};\n$37cff576474bc8d4$exports = {\n    \"alpha\": `Alpha`,\n    \"blue\": `\\u{85CD}\\u{8272}`,\n    \"brightness\": `\\u{4EAE}\\u{5EA6}`,\n    \"green\": `\\u{7DA0}\\u{8272}`,\n    \"hue\": `\\u{8272}\\u{76F8}`,\n    \"lightness\": `\\u{660E}\\u{4EAE}`,\n    \"red\": `\\u{7D05}\\u{8272}`,\n    \"saturation\": `\\u{98FD}\\u{548C}\\u{5EA6}`\n};\n\n\nexport {$37cff576474bc8d4$exports as default};\n//# sourceMappingURL=zh-TW.module.js.map\n","/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ /*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ const $5b160d28a433310d$var$localeSymbol = Symbol.for(\"react-aria.i18n.locale\");\nconst $5b160d28a433310d$var$stringsSymbol = Symbol.for(\"react-aria.i18n.strings\");\nlet $5b160d28a433310d$var$cachedGlobalStrings = undefined;\nclass $5b160d28a433310d$export$c17fa47878dc55b6 {\n    /** Returns a localized string for the given key and locale. */ getStringForLocale(key, locale) {\n        let strings = this.getStringsForLocale(locale);\n        let string = strings[key];\n        if (!string) throw new Error(`Could not find intl message ${key} in ${locale} locale`);\n        return string;\n    }\n    /** Returns all localized strings for the given locale. */ getStringsForLocale(locale) {\n        let strings = this.strings[locale];\n        if (!strings) {\n            strings = $5b160d28a433310d$var$getStringsForLocale(locale, this.strings, this.defaultLocale);\n            this.strings[locale] = strings;\n        }\n        return strings;\n    }\n    static getGlobalDictionaryForPackage(packageName) {\n        if (typeof window === \"undefined\") return null;\n        let locale = window[$5b160d28a433310d$var$localeSymbol];\n        if ($5b160d28a433310d$var$cachedGlobalStrings === undefined) {\n            let globalStrings = window[$5b160d28a433310d$var$stringsSymbol];\n            if (!globalStrings) return null;\n            $5b160d28a433310d$var$cachedGlobalStrings = {};\n            for(let pkg in globalStrings)$5b160d28a433310d$var$cachedGlobalStrings[pkg] = new $5b160d28a433310d$export$c17fa47878dc55b6({\n                [locale]: globalStrings[pkg]\n            }, locale);\n        }\n        let dictionary = $5b160d28a433310d$var$cachedGlobalStrings === null || $5b160d28a433310d$var$cachedGlobalStrings === void 0 ? void 0 : $5b160d28a433310d$var$cachedGlobalStrings[packageName];\n        if (!dictionary) throw new Error(`Strings for package \"${packageName}\" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);\n        return dictionary;\n    }\n    constructor(messages, defaultLocale = \"en-US\"){\n        // Clone messages so we don't modify the original object.\n        this.strings = {\n            ...messages\n        };\n        this.defaultLocale = defaultLocale;\n    }\n}\nfunction $5b160d28a433310d$var$getStringsForLocale(locale, strings, defaultLocale = \"en-US\") {\n    // If there is an exact match, use it.\n    if (strings[locale]) return strings[locale];\n    // Attempt to find the closest match by language.\n    // For example, if the locale is fr-CA (French Canadian), but there is only\n    // an fr-FR (France) set of strings, use that.\n    // This could be replaced with Intl.LocaleMatcher once it is supported.\n    // https://github.com/tc39/proposal-intl-localematcher\n    let language = $5b160d28a433310d$var$getLanguage(locale);\n    if (strings[language]) return strings[language];\n    for(let key in strings){\n        if (key.startsWith(language + \"-\")) return strings[key];\n    }\n    // Nothing close, use english.\n    return strings[defaultLocale];\n}\nfunction $5b160d28a433310d$var$getLanguage(locale) {\n    // @ts-ignore\n    if (Intl.Locale) // @ts-ignore\n    return new Intl.Locale(locale).language;\n    return locale.split(\"-\")[0];\n}\n\n\n/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ const $6db58dc88e78b024$var$pluralRulesCache = new Map();\nconst $6db58dc88e78b024$var$numberFormatCache = new Map();\nclass $6db58dc88e78b024$export$2f817fcdc4b89ae0 {\n    /** Formats a localized string for the given key with the provided variables. */ format(key, variables) {\n        let message = this.strings.getStringForLocale(key, this.locale);\n        return typeof message === \"function\" ? message(variables, this) : message;\n    }\n    plural(count, options, type = \"cardinal\") {\n        let opt = options[\"=\" + count];\n        if (opt) return typeof opt === \"function\" ? opt() : opt;\n        let key = this.locale + \":\" + type;\n        let pluralRules = $6db58dc88e78b024$var$pluralRulesCache.get(key);\n        if (!pluralRules) {\n            pluralRules = new Intl.PluralRules(this.locale, {\n                type: type\n            });\n            $6db58dc88e78b024$var$pluralRulesCache.set(key, pluralRules);\n        }\n        let selected = pluralRules.select(count);\n        opt = options[selected] || options.other;\n        return typeof opt === \"function\" ? opt() : opt;\n    }\n    number(value) {\n        let numberFormat = $6db58dc88e78b024$var$numberFormatCache.get(this.locale);\n        if (!numberFormat) {\n            numberFormat = new Intl.NumberFormat(this.locale);\n            $6db58dc88e78b024$var$numberFormatCache.set(this.locale, numberFormat);\n        }\n        return numberFormat.format(value);\n    }\n    select(options, value) {\n        let opt = options[value] || options.other;\n        return typeof opt === \"function\" ? opt() : opt;\n    }\n    constructor(locale, strings){\n        this.locale = locale;\n        this.strings = strings;\n    }\n}\n\n\n\n\nexport {$5b160d28a433310d$export$c17fa47878dc55b6 as LocalizedStringDictionary, $6db58dc88e78b024$export$2f817fcdc4b89ae0 as LocalizedStringFormatter};\n//# sourceMappingURL=module.js.map\n","import $2d805fd52bb48883$exports from \"./ar-AE.mjs\";\nimport $6c28468dc1df643c$exports from \"./bg-BG.mjs\";\nimport $807554f8230db0ed$exports from \"./cs-CZ.mjs\";\nimport $7097f64386f1761c$exports from \"./da-DK.mjs\";\nimport $bdd847d8beb08799$exports from \"./de-DE.mjs\";\nimport $a53e00b683950971$exports from \"./el-GR.mjs\";\nimport $21cdd87e84f28d89$exports from \"./en-US.mjs\";\nimport $92fee9698e4d675a$exports from \"./es-ES.mjs\";\nimport $7ea012e91a5ad3ee$exports from \"./et-EE.mjs\";\nimport $8460c13bb2d75345$exports from \"./fi-FI.mjs\";\nimport $2a2d5dc14e680587$exports from \"./fr-FR.mjs\";\nimport $9a3f292371bb0589$exports from \"./he-IL.mjs\";\nimport $4742231a685fa068$exports from \"./hr-HR.mjs\";\nimport $05e247fd2960981e$exports from \"./hu-HU.mjs\";\nimport $a67524a79ccbe190$exports from \"./it-IT.mjs\";\nimport $a9eefe9d6c8cb7d5$exports from \"./ja-JP.mjs\";\nimport $4a6b836d4f1bfaba$exports from \"./ko-KR.mjs\";\nimport $c950e4b1c482abde$exports from \"./lt-LT.mjs\";\nimport $d10d6b60dc50b438$exports from \"./lv-LV.mjs\";\nimport $371a732b2494f452$exports from \"./nb-NO.mjs\";\nimport $6d042cae6243464b$exports from \"./nl-NL.mjs\";\nimport $d9ab5c2611e0bcd3$exports from \"./pl-PL.mjs\";\nimport $73f77c9902e29ca6$exports from \"./pt-BR.mjs\";\nimport $4f461eb266a95c10$exports from \"./pt-PT.mjs\";\nimport $dc46bea2f2597899$exports from \"./ro-RO.mjs\";\nimport $622bbd6719cc95af$exports from \"./ru-RU.mjs\";\nimport $4da03c1ecd9a9c7d$exports from \"./sk-SK.mjs\";\nimport $edb6b2fe456ed4e8$exports from \"./sl-SI.mjs\";\nimport $264cd81c52b30815$exports from \"./sr-SP.mjs\";\nimport $6f80afde0270dda7$exports from \"./sv-SE.mjs\";\nimport $23a92651c6957668$exports from \"./tr-TR.mjs\";\nimport $0f9b1074d04f4954$exports from \"./uk-UA.mjs\";\nimport $a9cedf75b94e4916$exports from \"./zh-CN.mjs\";\nimport $37cff576474bc8d4$exports from \"./zh-TW.mjs\";\nimport {clamp as $cBgAy$clamp, toFixedNumber as $cBgAy$toFixedNumber, useControlledState as $cBgAy$useControlledState, snapValueToStep as $cBgAy$snapValueToStep} from \"@react-stately/utils\";\nimport {LocalizedStringDictionary as $cBgAy$LocalizedStringDictionary} from \"@internationalized/string\";\nimport {NumberFormatter as $cBgAy$NumberFormatter} from \"@internationalized/number\";\nimport {useRef as $cBgAy$useRef, useMemo as $cBgAy$useMemo, useState as $cBgAy$useState} from \"react\";\nimport {useSliderState as $cBgAy$useSliderState} from \"@react-stately/slider\";\nimport {useFormValidationState as $cBgAy$useFormValidationState} from \"@react-stately/form\";\n\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ /*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nvar $f98dad178a72c00d$exports = {};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n$f98dad178a72c00d$exports = {\n    \"ar-AE\": $2d805fd52bb48883$exports,\n    \"bg-BG\": $6c28468dc1df643c$exports,\n    \"cs-CZ\": $807554f8230db0ed$exports,\n    \"da-DK\": $7097f64386f1761c$exports,\n    \"de-DE\": $bdd847d8beb08799$exports,\n    \"el-GR\": $a53e00b683950971$exports,\n    \"en-US\": $21cdd87e84f28d89$exports,\n    \"es-ES\": $92fee9698e4d675a$exports,\n    \"et-EE\": $7ea012e91a5ad3ee$exports,\n    \"fi-FI\": $8460c13bb2d75345$exports,\n    \"fr-FR\": $2a2d5dc14e680587$exports,\n    \"he-IL\": $9a3f292371bb0589$exports,\n    \"hr-HR\": $4742231a685fa068$exports,\n    \"hu-HU\": $05e247fd2960981e$exports,\n    \"it-IT\": $a67524a79ccbe190$exports,\n    \"ja-JP\": $a9eefe9d6c8cb7d5$exports,\n    \"ko-KR\": $4a6b836d4f1bfaba$exports,\n    \"lt-LT\": $c950e4b1c482abde$exports,\n    \"lv-LV\": $d10d6b60dc50b438$exports,\n    \"nb-NO\": $371a732b2494f452$exports,\n    \"nl-NL\": $6d042cae6243464b$exports,\n    \"pl-PL\": $d9ab5c2611e0bcd3$exports,\n    \"pt-BR\": $73f77c9902e29ca6$exports,\n    \"pt-PT\": $4f461eb266a95c10$exports,\n    \"ro-RO\": $dc46bea2f2597899$exports,\n    \"ru-RU\": $622bbd6719cc95af$exports,\n    \"sk-SK\": $4da03c1ecd9a9c7d$exports,\n    \"sl-SI\": $edb6b2fe456ed4e8$exports,\n    \"sr-SP\": $264cd81c52b30815$exports,\n    \"sv-SE\": $6f80afde0270dda7$exports,\n    \"tr-TR\": $23a92651c6957668$exports,\n    \"uk-UA\": $0f9b1074d04f4954$exports,\n    \"zh-CN\": $a9cedf75b94e4916$exports,\n    \"zh-TW\": $37cff576474bc8d4$exports\n};\n\n\n\n\nlet $799cddbef784668f$var$dictionary = new (0, $cBgAy$LocalizedStringDictionary)((0, (/*@__PURE__*/$parcel$interopDefault($f98dad178a72c00d$exports))));\nfunction $799cddbef784668f$export$6e865ea70d7724f(value) {\n    let res = $799cddbef784668f$var$RGBColor.parse(value) || $799cddbef784668f$var$HSBColor.parse(value) || $799cddbef784668f$var$HSLColor.parse(value);\n    if (res) return res;\n    throw new Error(\"Invalid color value: \" + value);\n}\nfunction $799cddbef784668f$export$4cde5df63f53f473(v) {\n    if (typeof v === \"string\") return $799cddbef784668f$export$6e865ea70d7724f(v);\n    else return v;\n}\nclass $799cddbef784668f$var$Color {\n    toHexInt() {\n        return this.toFormat(\"rgb\").toHexInt();\n    }\n    getChannelValue(channel) {\n        if (channel in this) return this[channel];\n        throw new Error(\"Unsupported color channel: \" + channel);\n    }\n    withChannelValue(channel, value) {\n        if (channel in this) {\n            let x = this.clone();\n            x[channel] = value;\n            return x;\n        }\n        throw new Error(\"Unsupported color channel: \" + channel);\n    }\n    getChannelName(channel, locale) {\n        let strings = (0, $cBgAy$LocalizedStringDictionary).getGlobalDictionaryForPackage(\"@react-stately/color\") || $799cddbef784668f$var$dictionary;\n        return strings.getStringForLocale(channel, locale);\n    }\n    getColorSpaceAxes(xyChannels) {\n        let { xChannel: xChannel, yChannel: yChannel } = xyChannels;\n        let xCh = xChannel || this.getColorChannels().find((c)=>c !== yChannel);\n        let yCh = yChannel || this.getColorChannels().find((c)=>c !== xCh);\n        let zCh = this.getColorChannels().find((c)=>c !== xCh && c !== yCh);\n        return {\n            xChannel: xCh,\n            yChannel: yCh,\n            zChannel: zCh\n        };\n    }\n}\nclass $799cddbef784668f$var$RGBColor extends $799cddbef784668f$var$Color {\n    static parse(value) {\n        let colors = [];\n        // matching #rgb, #rgba, #rrggbb, #rrggbbaa\n        if (/^#[\\da-f]+$/i.test(value) && [\n            4,\n            5,\n            7,\n            9\n        ].includes(value.length)) {\n            const values = (value.length < 6 ? value.replace(/[^#]/gi, \"$&$&\") : value).slice(1).split(\"\");\n            while(values.length > 0)colors.push(parseInt(values.splice(0, 2).join(\"\"), 16));\n            colors[3] = colors[3] !== undefined ? colors[3] / 255 : undefined;\n        }\n        // matching rgb(rrr, ggg, bbb), rgba(rrr, ggg, bbb, 0.a)\n        const match = value.match(/^rgba?\\((.*)\\)$/);\n        if (match === null || match === void 0 ? void 0 : match[1]) {\n            colors = match[1].split(\",\").map((value)=>Number(value.trim()));\n            colors = colors.map((num, i)=>(0, $cBgAy$clamp)(num, 0, i < 3 ? 255 : 1));\n        }\n        var _colors_;\n        return colors.length < 3 ? undefined : new $799cddbef784668f$var$RGBColor(colors[0], colors[1], colors[2], (_colors_ = colors[3]) !== null && _colors_ !== void 0 ? _colors_ : 1);\n    }\n    toString(format) {\n        switch(format){\n            case \"hex\":\n                return \"#\" + (this.red.toString(16).padStart(2, \"0\") + this.green.toString(16).padStart(2, \"0\") + this.blue.toString(16).padStart(2, \"0\")).toUpperCase();\n            case \"hexa\":\n                return \"#\" + (this.red.toString(16).padStart(2, \"0\") + this.green.toString(16).padStart(2, \"0\") + this.blue.toString(16).padStart(2, \"0\") + Math.round(this.alpha * 255).toString(16).padStart(2, \"0\")).toUpperCase();\n            case \"rgb\":\n                return `rgb(${this.red}, ${this.green}, ${this.blue})`;\n            case \"css\":\n            case \"rgba\":\n                return `rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;\n            default:\n                return this.toFormat(format).toString(format);\n        }\n    }\n    toFormat(format) {\n        switch(format){\n            case \"hex\":\n            case \"hexa\":\n            case \"rgb\":\n            case \"rgba\":\n                return this;\n            case \"hsb\":\n            case \"hsba\":\n                return this.toHSB();\n            case \"hsl\":\n            case \"hsla\":\n                return this.toHSL();\n            default:\n                throw new Error(\"Unsupported color conversion: rgb -> \" + format);\n        }\n    }\n    toHexInt() {\n        return this.red << 16 | this.green << 8 | this.blue;\n    }\n    /**\n   * Converts an RGB color value to HSB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#From_RGB.\n   * @returns An HSBColor object.\n   */ toHSB() {\n        const red = this.red / 255;\n        const green = this.green / 255;\n        const blue = this.blue / 255;\n        const min = Math.min(red, green, blue);\n        const brightness = Math.max(red, green, blue);\n        const chroma = brightness - min;\n        const saturation = brightness === 0 ? 0 : chroma / brightness;\n        let hue = 0; // achromatic\n        if (chroma !== 0) {\n            switch(brightness){\n                case red:\n                    hue = (green - blue) / chroma + (green < blue ? 6 : 0);\n                    break;\n                case green:\n                    hue = (blue - red) / chroma + 2;\n                    break;\n                case blue:\n                    hue = (red - green) / chroma + 4;\n                    break;\n            }\n            hue /= 6;\n        }\n        return new $799cddbef784668f$var$HSBColor((0, $cBgAy$toFixedNumber)(hue * 360, 2), (0, $cBgAy$toFixedNumber)(saturation * 100, 2), (0, $cBgAy$toFixedNumber)(brightness * 100, 2), this.alpha);\n    }\n    /**\n   * Converts an RGB color value to HSL.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#From_RGB.\n   * @returns An HSLColor object.\n   */ toHSL() {\n        const red = this.red / 255;\n        const green = this.green / 255;\n        const blue = this.blue / 255;\n        const min = Math.min(red, green, blue);\n        const max = Math.max(red, green, blue);\n        const lightness = (max + min) / 2;\n        const chroma = max - min;\n        let hue;\n        let saturation;\n        if (chroma === 0) hue = saturation = 0; // achromatic\n        else {\n            saturation = chroma / (lightness < .5 ? max + min : 2 - max - min);\n            switch(max){\n                case red:\n                    hue = (green - blue) / chroma + (green < blue ? 6 : 0);\n                    break;\n                case green:\n                    hue = (blue - red) / chroma + 2;\n                    break;\n                case blue:\n                    hue = (red - green) / chroma + 4;\n                    break;\n            }\n            hue /= 6;\n        }\n        return new $799cddbef784668f$var$HSLColor((0, $cBgAy$toFixedNumber)(hue * 360, 2), (0, $cBgAy$toFixedNumber)(saturation * 100, 2), (0, $cBgAy$toFixedNumber)(lightness * 100, 2), this.alpha);\n    }\n    clone() {\n        return new $799cddbef784668f$var$RGBColor(this.red, this.green, this.blue, this.alpha);\n    }\n    getChannelRange(channel) {\n        switch(channel){\n            case \"red\":\n            case \"green\":\n            case \"blue\":\n                return {\n                    minValue: 0x0,\n                    maxValue: 0xFF,\n                    step: 0x1,\n                    pageSize: 0x11\n                };\n            case \"alpha\":\n                return {\n                    minValue: 0,\n                    maxValue: 1,\n                    step: 0.01,\n                    pageSize: 0.1\n                };\n            default:\n                throw new Error(\"Unknown color channel: \" + channel);\n        }\n    }\n    formatChannelValue(channel, locale) {\n        let options;\n        let value = this.getChannelValue(channel);\n        switch(channel){\n            case \"red\":\n            case \"green\":\n            case \"blue\":\n                options = {\n                    style: \"decimal\"\n                };\n                break;\n            case \"alpha\":\n                options = {\n                    style: \"percent\"\n                };\n                break;\n            default:\n                throw new Error(\"Unknown color channel: \" + channel);\n        }\n        return new (0, $cBgAy$NumberFormatter)(locale, options).format(value);\n    }\n    getColorSpace() {\n        return \"rgb\";\n    }\n    getColorChannels() {\n        return $799cddbef784668f$var$RGBColor.colorChannels;\n    }\n    constructor(red, green, blue, alpha){\n        super();\n        this.red = red;\n        this.green = green;\n        this.blue = blue;\n        this.alpha = alpha;\n    }\n}\n$799cddbef784668f$var$RGBColor.colorChannels = [\n    \"red\",\n    \"green\",\n    \"blue\"\n];\n// X = <negative/positive number with/without decimal places>\n// before/after a comma, 0 or more whitespaces are allowed\n// - hsb(X, X%, X%)\n// - hsba(X, X%, X%, X)\nconst $799cddbef784668f$var$HSB_REGEX = /hsb\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%)\\)|hsba\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d(.\\d+)?)\\)/;\nclass $799cddbef784668f$var$HSBColor extends $799cddbef784668f$var$Color {\n    static parse(value) {\n        let m;\n        if (m = value.match($799cddbef784668f$var$HSB_REGEX)) {\n            var _m_;\n            const [h, s, b, a] = ((_m_ = m[1]) !== null && _m_ !== void 0 ? _m_ : m[2]).split(\",\").map((n)=>Number(n.trim().replace(\"%\", \"\")));\n            return new $799cddbef784668f$var$HSBColor($799cddbef784668f$var$mod(h, 360), (0, $cBgAy$clamp)(s, 0, 100), (0, $cBgAy$clamp)(b, 0, 100), (0, $cBgAy$clamp)(a !== null && a !== void 0 ? a : 1, 0, 1));\n        }\n    }\n    toString(format) {\n        switch(format){\n            case \"css\":\n                return this.toHSL().toString(\"css\");\n            case \"hex\":\n                return this.toRGB().toString(\"hex\");\n            case \"hexa\":\n                return this.toRGB().toString(\"hexa\");\n            case \"hsb\":\n                return `hsb(${this.hue}, ${(0, $cBgAy$toFixedNumber)(this.saturation, 2)}%, ${(0, $cBgAy$toFixedNumber)(this.brightness, 2)}%)`;\n            case \"hsba\":\n                return `hsba(${this.hue}, ${(0, $cBgAy$toFixedNumber)(this.saturation, 2)}%, ${(0, $cBgAy$toFixedNumber)(this.brightness, 2)}%, ${this.alpha})`;\n            default:\n                return this.toFormat(format).toString(format);\n        }\n    }\n    toFormat(format) {\n        switch(format){\n            case \"hsb\":\n            case \"hsba\":\n                return this;\n            case \"hsl\":\n            case \"hsla\":\n                return this.toHSL();\n            case \"rgb\":\n            case \"rgba\":\n                return this.toRGB();\n            default:\n                throw new Error(\"Unsupported color conversion: hsb -> \" + format);\n        }\n    }\n    /**\n   * Converts a HSB color to HSL.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSV_to_HSL.\n   * @returns An HSLColor object.\n   */ toHSL() {\n        let saturation = this.saturation / 100;\n        let brightness = this.brightness / 100;\n        let lightness = brightness * (1 - saturation / 2);\n        saturation = lightness === 0 || lightness === 1 ? 0 : (brightness - lightness) / Math.min(lightness, 1 - lightness);\n        return new $799cddbef784668f$var$HSLColor((0, $cBgAy$toFixedNumber)(this.hue, 2), (0, $cBgAy$toFixedNumber)(saturation * 100, 2), (0, $cBgAy$toFixedNumber)(lightness * 100, 2), this.alpha);\n    }\n    /**\n   * Converts a HSV color value to RGB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSV_to_RGB_alternative.\n   * @returns An RGBColor object.\n   */ toRGB() {\n        let hue = this.hue;\n        let saturation = this.saturation / 100;\n        let brightness = this.brightness / 100;\n        let fn = (n, k = (n + hue / 60) % 6)=>brightness - saturation * brightness * Math.max(Math.min(k, 4 - k, 1), 0);\n        return new $799cddbef784668f$var$RGBColor(Math.round(fn(5) * 255), Math.round(fn(3) * 255), Math.round(fn(1) * 255), this.alpha);\n    }\n    clone() {\n        return new $799cddbef784668f$var$HSBColor(this.hue, this.saturation, this.brightness, this.alpha);\n    }\n    getChannelRange(channel) {\n        switch(channel){\n            case \"hue\":\n                return {\n                    minValue: 0,\n                    maxValue: 360,\n                    step: 1,\n                    pageSize: 15\n                };\n            case \"saturation\":\n            case \"brightness\":\n                return {\n                    minValue: 0,\n                    maxValue: 100,\n                    step: 1,\n                    pageSize: 10\n                };\n            case \"alpha\":\n                return {\n                    minValue: 0,\n                    maxValue: 1,\n                    step: 0.01,\n                    pageSize: 0.1\n                };\n            default:\n                throw new Error(\"Unknown color channel: \" + channel);\n        }\n    }\n    formatChannelValue(channel, locale) {\n        let options;\n        let value = this.getChannelValue(channel);\n        switch(channel){\n            case \"hue\":\n                options = {\n                    style: \"unit\",\n                    unit: \"degree\",\n                    unitDisplay: \"narrow\"\n                };\n                break;\n            case \"saturation\":\n            case \"brightness\":\n                options = {\n                    style: \"percent\"\n                };\n                value /= 100;\n                break;\n            case \"alpha\":\n                options = {\n                    style: \"percent\"\n                };\n                break;\n            default:\n                throw new Error(\"Unknown color channel: \" + channel);\n        }\n        return new (0, $cBgAy$NumberFormatter)(locale, options).format(value);\n    }\n    getColorSpace() {\n        return \"hsb\";\n    }\n    getColorChannels() {\n        return $799cddbef784668f$var$HSBColor.colorChannels;\n    }\n    constructor(hue, saturation, brightness, alpha){\n        super();\n        this.hue = hue;\n        this.saturation = saturation;\n        this.brightness = brightness;\n        this.alpha = alpha;\n    }\n}\n$799cddbef784668f$var$HSBColor.colorChannels = [\n    \"hue\",\n    \"saturation\",\n    \"brightness\"\n];\n// X = <negative/positive number with/without decimal places>\n// before/after a comma, 0 or more whitespaces are allowed\n// - hsl(X, X%, X%)\n// - hsla(X, X%, X%, X)\nconst $799cddbef784668f$var$HSL_REGEX = /hsl\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%)\\)|hsla\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d(.\\d+)?)\\)/;\nfunction $799cddbef784668f$var$mod(n, m) {\n    return (n % m + m) % m;\n}\nclass $799cddbef784668f$var$HSLColor extends $799cddbef784668f$var$Color {\n    static parse(value) {\n        let m;\n        if (m = value.match($799cddbef784668f$var$HSL_REGEX)) {\n            var _m_;\n            const [h, s, l, a] = ((_m_ = m[1]) !== null && _m_ !== void 0 ? _m_ : m[2]).split(\",\").map((n)=>Number(n.trim().replace(\"%\", \"\")));\n            return new $799cddbef784668f$var$HSLColor($799cddbef784668f$var$mod(h, 360), (0, $cBgAy$clamp)(s, 0, 100), (0, $cBgAy$clamp)(l, 0, 100), (0, $cBgAy$clamp)(a !== null && a !== void 0 ? a : 1, 0, 1));\n        }\n    }\n    toString(format) {\n        switch(format){\n            case \"hex\":\n                return this.toRGB().toString(\"hex\");\n            case \"hexa\":\n                return this.toRGB().toString(\"hexa\");\n            case \"hsl\":\n                return `hsl(${this.hue}, ${(0, $cBgAy$toFixedNumber)(this.saturation, 2)}%, ${(0, $cBgAy$toFixedNumber)(this.lightness, 2)}%)`;\n            case \"css\":\n            case \"hsla\":\n                return `hsla(${this.hue}, ${(0, $cBgAy$toFixedNumber)(this.saturation, 2)}%, ${(0, $cBgAy$toFixedNumber)(this.lightness, 2)}%, ${this.alpha})`;\n            default:\n                return this.toFormat(format).toString(format);\n        }\n    }\n    toFormat(format) {\n        switch(format){\n            case \"hsl\":\n            case \"hsla\":\n                return this;\n            case \"hsb\":\n            case \"hsba\":\n                return this.toHSB();\n            case \"rgb\":\n            case \"rgba\":\n                return this.toRGB();\n            default:\n                throw new Error(\"Unsupported color conversion: hsl -> \" + format);\n        }\n    }\n    /**\n   * Converts a HSL color to HSB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSL_to_HSV.\n   * @returns An HSBColor object.\n   */ toHSB() {\n        let saturation = this.saturation / 100;\n        let lightness = this.lightness / 100;\n        let brightness = lightness + saturation * Math.min(lightness, 1 - lightness);\n        saturation = brightness === 0 ? 0 : 2 * (1 - lightness / brightness);\n        return new $799cddbef784668f$var$HSBColor((0, $cBgAy$toFixedNumber)(this.hue, 2), (0, $cBgAy$toFixedNumber)(saturation * 100, 2), (0, $cBgAy$toFixedNumber)(brightness * 100, 2), this.alpha);\n    }\n    /**\n   * Converts a HSL color to RGB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSL_to_RGB_alternative.\n   * @returns An RGBColor object.\n   */ toRGB() {\n        let hue = this.hue;\n        let saturation = this.saturation / 100;\n        let lightness = this.lightness / 100;\n        let a = saturation * Math.min(lightness, 1 - lightness);\n        let fn = (n, k = (n + hue / 30) % 12)=>lightness - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n        return new $799cddbef784668f$var$RGBColor(Math.round(fn(0) * 255), Math.round(fn(8) * 255), Math.round(fn(4) * 255), this.alpha);\n    }\n    clone() {\n        return new $799cddbef784668f$var$HSLColor(this.hue, this.saturation, this.lightness, this.alpha);\n    }\n    getChannelRange(channel) {\n        switch(channel){\n            case \"hue\":\n                return {\n                    minValue: 0,\n                    maxValue: 360,\n                    step: 1,\n                    pageSize: 15\n                };\n            case \"saturation\":\n            case \"lightness\":\n                return {\n                    minValue: 0,\n                    maxValue: 100,\n                    step: 1,\n                    pageSize: 10\n                };\n            case \"alpha\":\n                return {\n                    minValue: 0,\n                    maxValue: 1,\n                    step: 0.01,\n                    pageSize: 0.1\n                };\n            default:\n                throw new Error(\"Unknown color channel: \" + channel);\n        }\n    }\n    formatChannelValue(channel, locale) {\n        let options;\n        let value = this.getChannelValue(channel);\n        switch(channel){\n            case \"hue\":\n                options = {\n                    style: \"unit\",\n                    unit: \"degree\",\n                    unitDisplay: \"narrow\"\n                };\n                break;\n            case \"saturation\":\n            case \"lightness\":\n                options = {\n                    style: \"percent\"\n                };\n                value /= 100;\n                break;\n            case \"alpha\":\n                options = {\n                    style: \"percent\"\n                };\n                break;\n            default:\n                throw new Error(\"Unknown color channel: \" + channel);\n        }\n        return new (0, $cBgAy$NumberFormatter)(locale, options).format(value);\n    }\n    getColorSpace() {\n        return \"hsl\";\n    }\n    getColorChannels() {\n        return $799cddbef784668f$var$HSLColor.colorChannels;\n    }\n    constructor(hue, saturation, lightness, alpha){\n        super();\n        this.hue = hue;\n        this.saturation = saturation;\n        this.lightness = lightness;\n        this.alpha = alpha;\n    }\n}\n$799cddbef784668f$var$HSLColor.colorChannels = [\n    \"hue\",\n    \"saturation\",\n    \"lightness\"\n];\n\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n\nconst $6e14a98a7f67141d$var$DEFAULT_COLOR = (0, $799cddbef784668f$export$6e865ea70d7724f)(\"#ffffff\");\nfunction $6e14a98a7f67141d$export$6df7f0e2cabc7eef(props) {\n    let { value: value, defaultValue: defaultValue, xChannel: xChannel, yChannel: yChannel, onChange: onChange, onChangeEnd: onChangeEnd } = props;\n    if (!value && !defaultValue) defaultValue = $6e14a98a7f67141d$var$DEFAULT_COLOR;\n    let [color, setColorState] = (0, $cBgAy$useControlledState)(value && (0, $799cddbef784668f$export$4cde5df63f53f473)(value), defaultValue && (0, $799cddbef784668f$export$4cde5df63f53f473)(defaultValue), onChange);\n    let valueRef = (0, $cBgAy$useRef)(color);\n    let setColor = (color)=>{\n        valueRef.current = color;\n        setColorState(color);\n    };\n    let channels = (0, $cBgAy$useMemo)(()=>color.getColorSpaceAxes({\n            xChannel: xChannel,\n            yChannel: yChannel\n        }), [\n        color,\n        xChannel,\n        yChannel\n    ]);\n    let xChannelRange = color.getChannelRange(channels.xChannel);\n    let yChannelRange = color.getChannelRange(channels.yChannel);\n    let { minValue: minValueX, maxValue: maxValueX, step: stepX, pageSize: pageSizeX } = xChannelRange;\n    let { minValue: minValueY, maxValue: maxValueY, step: stepY, pageSize: pageSizeY } = yChannelRange;\n    let [isDragging, setDragging] = (0, $cBgAy$useState)(false);\n    let isDraggingRef = (0, $cBgAy$useRef)(false);\n    let xValue = color.getChannelValue(channels.xChannel);\n    let yValue = color.getChannelValue(channels.yChannel);\n    let setXValue = (v)=>{\n        if (v === xValue) return;\n        let newColor = color.withChannelValue(channels.xChannel, v);\n        setColor(newColor);\n    };\n    let setYValue = (v)=>{\n        if (v === yValue) return;\n        let newColor = color.withChannelValue(channels.yChannel, v);\n        setColor(newColor);\n    };\n    return {\n        channels: channels,\n        xChannelStep: stepX,\n        yChannelStep: stepY,\n        xChannelPageStep: pageSizeX,\n        yChannelPageStep: pageSizeY,\n        value: color,\n        setValue (value) {\n            setColor((0, $799cddbef784668f$export$4cde5df63f53f473)(value));\n        },\n        xValue: xValue,\n        setXValue: setXValue,\n        yValue: yValue,\n        setYValue: setYValue,\n        setColorFromPoint (x, y) {\n            let newXValue = minValueX + (0, $cBgAy$clamp)(x, 0, 1) * (maxValueX - minValueX);\n            let newYValue = minValueY + (1 - (0, $cBgAy$clamp)(y, 0, 1)) * (maxValueY - minValueY);\n            let newColor;\n            if (newXValue !== xValue) {\n                // Round new value to multiple of step, clamp value between min and max\n                newXValue = (0, $cBgAy$snapValueToStep)(newXValue, minValueX, maxValueX, stepX);\n                newColor = color.withChannelValue(channels.xChannel, newXValue);\n            }\n            if (newYValue !== yValue) {\n                // Round new value to multiple of step, clamp value between min and max\n                newYValue = (0, $cBgAy$snapValueToStep)(newYValue, minValueY, maxValueY, stepY);\n                newColor = (newColor || color).withChannelValue(channels.yChannel, newYValue);\n            }\n            if (newColor) setColor(newColor);\n        },\n        getThumbPosition () {\n            let x = (xValue - minValueX) / (maxValueX - minValueX);\n            let y = 1 - (yValue - minValueY) / (maxValueY - minValueY);\n            return {\n                x: x,\n                y: y\n            };\n        },\n        incrementX (stepSize) {\n            setXValue(xValue + stepSize > maxValueX ? maxValueX : (0, $cBgAy$snapValueToStep)(xValue + stepSize, minValueX, maxValueX, stepX));\n        },\n        incrementY (stepSize) {\n            setYValue(yValue + stepSize > maxValueY ? maxValueY : (0, $cBgAy$snapValueToStep)(yValue + stepSize, minValueY, maxValueY, stepY));\n        },\n        decrementX (stepSize) {\n            setXValue((0, $cBgAy$snapValueToStep)(xValue - stepSize, minValueX, maxValueX, stepX));\n        },\n        decrementY (stepSize) {\n            setYValue((0, $cBgAy$snapValueToStep)(yValue - stepSize, minValueY, maxValueY, stepY));\n        },\n        setDragging (isDragging) {\n            let wasDragging = isDraggingRef.current;\n            isDraggingRef.current = isDragging;\n            if (onChangeEnd && !isDragging && wasDragging) onChangeEnd(valueRef.current);\n            setDragging(isDragging);\n        },\n        isDragging: isDragging,\n        getDisplayColor () {\n            return color.withChannelValue(\"alpha\", 1);\n        }\n    };\n}\n\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n\nfunction $25a25ac0d1624665$export$57bc203e1c9c6d44(props) {\n    let { channel: channel, value: value, defaultValue: defaultValue, onChange: onChange, locale: locale, ...otherProps } = props;\n    if (value == null && defaultValue == null) throw new Error(\"useColorSliderState requires a value or defaultValue\");\n    let [color, setColor] = (0, $cBgAy$useControlledState)(value && (0, $799cddbef784668f$export$4cde5df63f53f473)(value), defaultValue && (0, $799cddbef784668f$export$4cde5df63f53f473)(defaultValue), onChange);\n    let sliderState = (0, $cBgAy$useSliderState)({\n        ...color.getChannelRange(channel),\n        ...otherProps,\n        // Unused except in getThumbValueLabel, which is overridden below. null to appease TypeScript.\n        numberFormatter: null,\n        value: color.getChannelValue(channel),\n        onChange (v) {\n            setColor(color.withChannelValue(channel, v));\n        },\n        onChangeEnd (v) {\n            // onChange will have already been called with the right value, this is just to trigger onChangeEnd\n            if (props.onChangeEnd) props.onChangeEnd(color.withChannelValue(channel, v));\n        }\n    });\n    let { step: step, pageSize: pageSize } = color.getChannelRange(channel);\n    return {\n        ...sliderState,\n        value: color,\n        setValue (value) {\n            setColor((0, $799cddbef784668f$export$4cde5df63f53f473)(value));\n        },\n        getDisplayColor () {\n            switch(channel){\n                case \"hue\":\n                    return (0, $799cddbef784668f$export$6e865ea70d7724f)(`hsl(${color.getChannelValue(\"hue\")}, 100%, 50%)`);\n                case \"lightness\":\n                case \"brightness\":\n                case \"saturation\":\n                case \"red\":\n                case \"green\":\n                case \"blue\":\n                    return color.withChannelValue(\"alpha\", 1);\n                case \"alpha\":\n                    return color;\n                default:\n                    throw new Error(\"Unknown color channel: \" + channel);\n            }\n        },\n        getThumbValueLabel () {\n            return color.formatChannelValue(channel, locale);\n        },\n        step: step,\n        pageSize: pageSize\n    };\n}\n\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n\nconst $ee4262c74a467b07$var$DEFAULT_COLOR = (0, $799cddbef784668f$export$6e865ea70d7724f)(\"hsl(0, 100%, 50%)\");\nfunction $ee4262c74a467b07$var$roundToStep(value, step) {\n    return Math.round(value / step) * step;\n}\nfunction $ee4262c74a467b07$var$mod(n, m) {\n    return (n % m + m) % m;\n}\nfunction $ee4262c74a467b07$var$roundDown(v) {\n    let r = Math.floor(v);\n    if (r === v) return v - 1;\n    else return r;\n}\nfunction $ee4262c74a467b07$var$degToRad(deg) {\n    return deg * Math.PI / 180;\n}\nfunction $ee4262c74a467b07$var$radToDeg(rad) {\n    return rad * 180 / Math.PI;\n}\n// 0deg = 3 o'clock. increases clockwise\nfunction $ee4262c74a467b07$var$angleToCartesian(angle, radius) {\n    let rad = $ee4262c74a467b07$var$degToRad(360 - angle + 90);\n    let x = Math.sin(rad) * radius;\n    let y = Math.cos(rad) * radius;\n    return {\n        x: x,\n        y: y\n    };\n}\nfunction $ee4262c74a467b07$var$cartesianToAngle(x, y, radius) {\n    let deg = $ee4262c74a467b07$var$radToDeg(Math.atan2(y / radius, x / radius));\n    return (deg + 360) % 360;\n}\nfunction $ee4262c74a467b07$export$f4301076d9336137(props) {\n    let { defaultValue: defaultValue, onChange: onChange, onChangeEnd: onChangeEnd } = props;\n    if (!props.value && !defaultValue) defaultValue = $ee4262c74a467b07$var$DEFAULT_COLOR;\n    let [value, setValueState] = (0, $cBgAy$useControlledState)((0, $799cddbef784668f$export$4cde5df63f53f473)(props.value), (0, $799cddbef784668f$export$4cde5df63f53f473)(defaultValue), onChange);\n    let valueRef = (0, $cBgAy$useRef)(value);\n    let setValue = (value)=>{\n        valueRef.current = value;\n        setValueState(value);\n    };\n    let channelRange = value.getChannelRange(\"hue\");\n    let { minValue: minValueX, maxValue: maxValueX, step: step, pageSize: pageStep } = channelRange;\n    let [isDragging, setDragging] = (0, $cBgAy$useState)(false);\n    let isDraggingRef = (0, $cBgAy$useRef)(false);\n    let hue = value.getChannelValue(\"hue\");\n    function setHue(v) {\n        if (v > 360) // Make sure you can always get back to 0.\n        v = 0;\n        v = $ee4262c74a467b07$var$roundToStep($ee4262c74a467b07$var$mod(v, 360), step);\n        if (hue !== v) {\n            let color = value.withChannelValue(\"hue\", v);\n            setValue(color);\n        }\n    }\n    return {\n        value: value,\n        step: step,\n        pageStep: pageStep,\n        setValue (v) {\n            let color = (0, $799cddbef784668f$export$4cde5df63f53f473)(v);\n            setValue(color);\n        },\n        hue: hue,\n        setHue: setHue,\n        setHueFromPoint (x, y, radius) {\n            setHue($ee4262c74a467b07$var$cartesianToAngle(x, y, radius));\n        },\n        getThumbPosition (radius) {\n            return $ee4262c74a467b07$var$angleToCartesian(value.getChannelValue(\"hue\"), radius);\n        },\n        increment (stepSize = 1) {\n            let s = Math.max(stepSize, step);\n            let newValue = hue + s;\n            if (newValue >= maxValueX) // Make sure you can always get back to 0.\n            newValue = minValueX;\n            setHue($ee4262c74a467b07$var$roundToStep($ee4262c74a467b07$var$mod(newValue, 360), s));\n        },\n        decrement (stepSize = 1) {\n            let s = Math.max(stepSize, step);\n            if (hue === 0) // We can't just subtract step because this might be the case:\n            // |(previous step) - 0| < step size\n            setHue($ee4262c74a467b07$var$roundDown(360 / s) * s);\n            else setHue($ee4262c74a467b07$var$roundToStep($ee4262c74a467b07$var$mod(hue - s, 360), s));\n        },\n        setDragging (isDragging) {\n            let wasDragging = isDraggingRef.current;\n            isDraggingRef.current = isDragging;\n            if (onChangeEnd && !isDragging && wasDragging) onChangeEnd(valueRef.current);\n            setDragging(isDragging);\n        },\n        isDragging: isDragging,\n        getDisplayColor () {\n            return value.toFormat(\"hsl\").withChannelValue(\"saturation\", 100).withChannelValue(\"lightness\", 50).withChannelValue(\"alpha\", 1);\n        }\n    };\n}\n\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\nfunction $aa90ad8b2b1d015f$export$5aadd9c0606af5c2(value) {\n    return (0, $cBgAy$useMemo)(()=>{\n        if (typeof value === \"string\") try {\n            return (0, $799cddbef784668f$export$6e865ea70d7724f)(value);\n        } catch (err) {\n            return undefined;\n        }\n        return value;\n    }, [\n        value\n    ]);\n}\n\n\n\n\nconst $b335ada08155d9c0$var$MIN_COLOR = (0, $799cddbef784668f$export$6e865ea70d7724f)(\"#000000\");\nconst $b335ada08155d9c0$var$MAX_COLOR = (0, $799cddbef784668f$export$6e865ea70d7724f)(\"#FFFFFF\");\nconst $b335ada08155d9c0$var$MIN_COLOR_INT = $b335ada08155d9c0$var$MIN_COLOR.toHexInt();\nconst $b335ada08155d9c0$var$MAX_COLOR_INT = $b335ada08155d9c0$var$MAX_COLOR.toHexInt();\nfunction $b335ada08155d9c0$export$d52a01683abdfcd6(props) {\n    let { value: value, defaultValue: defaultValue, onChange: onChange } = props;\n    let { step: step } = $b335ada08155d9c0$var$MIN_COLOR.getChannelRange(\"red\");\n    let initialValue = (0, $aa90ad8b2b1d015f$export$5aadd9c0606af5c2)(value);\n    let initialDefaultValue = (0, $aa90ad8b2b1d015f$export$5aadd9c0606af5c2)(defaultValue);\n    let [colorValue, setColorValue] = (0, $cBgAy$useControlledState)(initialValue, initialDefaultValue, onChange);\n    let [inputValue, setInputValue] = (0, $cBgAy$useState)(()=>(value || defaultValue) && colorValue ? colorValue.toString(\"hex\") : \"\");\n    let validation = (0, $cBgAy$useFormValidationState)({\n        ...props,\n        value: colorValue\n    });\n    let safelySetColorValue = (newColor)=>{\n        if (!colorValue || !newColor) {\n            setColorValue(newColor);\n            return;\n        }\n        if (newColor.toHexInt() !== colorValue.toHexInt()) {\n            setColorValue(newColor);\n            return;\n        }\n    };\n    let [prevValue, setPrevValue] = (0, $cBgAy$useState)(colorValue);\n    if (prevValue !== colorValue) {\n        setInputValue(colorValue ? colorValue.toString(\"hex\") : \"\");\n        setPrevValue(colorValue);\n    }\n    let parsedValue = (0, $cBgAy$useMemo)(()=>{\n        let color;\n        try {\n            color = (0, $799cddbef784668f$export$6e865ea70d7724f)(inputValue.startsWith(\"#\") ? inputValue : `#${inputValue}`);\n        } catch (err) {\n            color = null;\n        }\n        return color;\n    }, [\n        inputValue\n    ]);\n    let commit = ()=>{\n        // Set to empty state if input value is empty\n        if (!inputValue.length) {\n            safelySetColorValue(null);\n            setInputValue(value === undefined ? \"\" : colorValue.toString(\"hex\"));\n            return;\n        }\n        // if it failed to parse, then reset input to formatted version of current number\n        if (parsedValue == null) {\n            setInputValue(colorValue ? colorValue.toString(\"hex\") : \"\");\n            return;\n        }\n        safelySetColorValue(parsedValue);\n        // in a controlled state, the numberValue won't change, so we won't go back to our old input without help\n        let newColorValue = \"\";\n        if (colorValue) newColorValue = colorValue.toString(\"hex\");\n        setInputValue(newColorValue);\n    };\n    let increment = ()=>{\n        let newValue = $b335ada08155d9c0$var$addColorValue(parsedValue, step);\n        // if we've arrived at the same value that was previously in the state, the\n        // input value should be updated to match\n        // ex type 4, press increment, highlight the number in the input, type 4 again, press increment\n        // you'd be at 5, then incrementing to 5 again, so no re-render would happen and 4 would be left in the input\n        if (newValue === colorValue) setInputValue(newValue.toString(\"hex\"));\n        safelySetColorValue(newValue);\n        validation.commitValidation();\n    };\n    let decrement = ()=>{\n        let newValue = $b335ada08155d9c0$var$addColorValue(parsedValue, -step);\n        // if we've arrived at the same value that was previously in the state, the\n        // input value should be updated to match\n        // ex type 4, press increment, highlight the number in the input, type 4 again, press increment\n        // you'd be at 5, then incrementing to 5 again, so no re-render would happen and 4 would be left in the input\n        if (newValue === colorValue) setInputValue(newValue.toString(\"hex\"));\n        safelySetColorValue(newValue);\n        validation.commitValidation();\n    };\n    let incrementToMax = ()=>safelySetColorValue($b335ada08155d9c0$var$MAX_COLOR);\n    let decrementToMin = ()=>safelySetColorValue($b335ada08155d9c0$var$MIN_COLOR);\n    let validate = (value)=>{\n        var _value_match;\n        return value === \"\" || !!((_value_match = value.match(/^#?[0-9a-f]{0,6}$/i)) === null || _value_match === void 0 ? void 0 : _value_match[0]);\n    };\n    return {\n        ...validation,\n        validate: validate,\n        colorValue: colorValue,\n        inputValue: inputValue,\n        setInputValue: setInputValue,\n        commit: commit,\n        increment: increment,\n        incrementToMax: incrementToMax,\n        decrement: decrement,\n        decrementToMin: decrementToMin\n    };\n}\nfunction $b335ada08155d9c0$var$addColorValue(color, step) {\n    let newColor = color ? color : $b335ada08155d9c0$var$MIN_COLOR;\n    let colorInt = newColor.toHexInt();\n    let clampInt = Math.min(Math.max(colorInt + step, $b335ada08155d9c0$var$MIN_COLOR_INT), $b335ada08155d9c0$var$MAX_COLOR_INT);\n    if (clampInt !== colorInt) {\n        let newColorString = `#${clampInt.toString(16).padStart(6, \"0\").toUpperCase()}`;\n        newColor = (0, $799cddbef784668f$export$6e865ea70d7724f)(newColorString);\n    }\n    return newColor;\n}\n\n\n\n\nexport {$799cddbef784668f$export$6e865ea70d7724f as parseColor, $6e14a98a7f67141d$export$6df7f0e2cabc7eef as useColorAreaState, $25a25ac0d1624665$export$57bc203e1c9c6d44 as useColorSliderState, $ee4262c74a467b07$export$f4301076d9336137 as useColorWheelState, $b335ada08155d9c0$export$d52a01683abdfcd6 as useColorFieldState};\n//# sourceMappingURL=module.js.map\n","import {DragMonitor} from './use-drag-monitor';\r\nimport {ConnectedDraggable, DraggableId} from './use-draggable';\r\nimport {ConnectedDroppable} from './use-droppable';\r\n\r\nexport type DragSessionStatus =\r\n  | 'dropSuccess'\r\n  | 'dropFail'\r\n  | 'dragging'\r\n  | 'inactive';\r\n\r\nexport interface DragSession {\r\n  dragTargetId?: DraggableId;\r\n  status: DragSessionStatus;\r\n}\r\n\r\nexport const draggables = new Map<DraggableId, ConnectedDraggable>();\r\nexport const droppables = new Map<DraggableId, ConnectedDroppable>();\r\nexport const dragMonitors = new Map<DraggableId, DragMonitor>();\r\nexport const dragSession: DragSession = {\r\n  status: 'inactive',\r\n};\r\n","import React from 'react';\r\n\r\ntype NativeEvent =\r\n  | React.PointerEvent\r\n  | PointerEvent\r\n  | React.DragEvent<HTMLElement>\r\n  | DragEvent;\r\n\r\nexport interface InteractableEvent {\r\n  x: number;\r\n  y: number;\r\n  deltaX: number;\r\n  deltaY: number;\r\n  rect: InteractableRect;\r\n  nativeEvent: NativeEvent;\r\n}\r\n\r\nexport interface InteractableRect {\r\n  left: number;\r\n  top: number;\r\n  width: number;\r\n  height: number;\r\n  angle?: number;\r\n}\r\n\r\nexport function interactableEvent({\r\n  e,\r\n  rect,\r\n  deltaX,\r\n  deltaY,\r\n}: {\r\n  e: NativeEvent;\r\n  rect: InteractableRect;\r\n  deltaX?: number;\r\n  deltaY?: number;\r\n}): InteractableEvent {\r\n  return {\r\n    rect,\r\n    x: e.clientX,\r\n    y: e.clientY,\r\n    deltaX: deltaX ?? 0,\r\n    deltaY: deltaY ?? 0,\r\n    nativeEvent: e,\r\n  };\r\n}\r\n","type InteractionName = null | 'resize' | 'rotate' | 'drag' | 'move';\r\n\r\nexport let activeInteraction: InteractionName = null;\r\n\r\nexport function setActiveInteraction(name: InteractionName) {\r\n  activeInteraction = name;\r\n}\r\n","import {InteractableRect} from '../interactable-event';\r\n\r\nexport function domRectToObj(rect: DOMRect): InteractableRect {\r\n  return {\r\n    left: rect.left,\r\n    top: rect.top,\r\n    width: rect.width,\r\n    height: rect.height,\r\n  };\r\n}\r\n","// use intersection observer instead of getBoundingClientRect for better performance as this will be called in onPointerMove event\r\nimport {InteractableRect} from '../interactable-event';\r\nimport {ConnectedMouseSelectable} from './mouse-selection/use-mouse-selectable';\r\nimport {DraggableId} from './use-draggable';\r\nimport {ConnectedDroppable} from './use-droppable';\r\n\r\nexport function updateRects(\r\n  targets: Map<DraggableId, ConnectedDroppable | ConnectedMouseSelectable>\r\n) {\r\n  const observer = new IntersectionObserver(entries => {\r\n    entries.forEach(entry => {\r\n      const {width, height, left, top} = entry.boundingClientRect;\r\n      const [id, target] =\r\n        [...targets].find(\r\n          ([, target]) => target.ref.current === entry.target\r\n        ) || [];\r\n      if (id == null || target == null) return;\r\n\r\n      const rect: InteractableRect = {\r\n        width,\r\n        height,\r\n        left,\r\n        top,\r\n      };\r\n      targets.set(id, {...target, rect});\r\n    });\r\n    observer.disconnect();\r\n  });\r\n\r\n  [...targets.values()].forEach(target => {\r\n    if (target.ref.current) {\r\n      observer.observe(target.ref.current);\r\n    }\r\n  });\r\n}\r\n","import React, {RefObject, useLayoutEffect, useRef} from 'react';\r\nimport {draggables, dragMonitors, dragSession, droppables} from './drag-state';\r\nimport {\r\n  InteractableEvent,\r\n  interactableEvent,\r\n  InteractableRect,\r\n} from '../interactable-event';\r\nimport {activeInteraction, setActiveInteraction} from '../active-interaction';\r\nimport {domRectToObj} from '../utils/dom-rect-to-obj';\r\nimport {updateRects} from './update-rects';\r\nimport {useGlobalListeners} from '@react-aria/utils';\r\nimport {DragMonitor} from './use-drag-monitor';\r\nimport {NativeFileDraggable} from './use-droppable';\r\n\r\ninterface DragState {\r\n  currentRect?: InteractableRect;\r\n  lastPosition: {x: number; y: number};\r\n  clickedEl?: HTMLElement;\r\n}\r\n\r\nexport type DragPreviewRenderer = (\r\n  draggable: ConnectedDraggable,\r\n  callback: (node: HTMLElement) => void\r\n) => void;\r\n\r\nexport type DraggableId = string | number | object;\r\n\r\nexport interface ConnectedDraggable<T = any> {\r\n  type: string;\r\n  id: DraggableId;\r\n  getData: () => T;\r\n  ref: RefObject<HTMLElement>;\r\n}\r\n\r\n// Either draggable from within the app, or file dragged in from the desktop\r\nexport type MixedDraggable = ConnectedDraggable | NativeFileDraggable;\r\n\r\ninterface UseDragProps extends ConnectedDraggable {\r\n  disabled?: boolean;\r\n  onDragStart?: (e: InteractableEvent, target: ConnectedDraggable) => void;\r\n  onDragMove?: (e: InteractableEvent, target: ConnectedDraggable) => void;\r\n  onDragEnd?: (e: InteractableEvent, target: ConnectedDraggable) => void;\r\n  preview?: RefObject<DragPreviewRenderer>;\r\n  hidePreview?: boolean;\r\n}\r\nexport function useDraggable({\r\n  id,\r\n  disabled,\r\n  ref,\r\n  preview,\r\n  hidePreview,\r\n  ...options\r\n}: UseDragProps) {\r\n  const dragHandleRef = useRef<HTMLButtonElement>(null);\r\n  const {addGlobalListener, removeAllGlobalListeners} = useGlobalListeners();\r\n\r\n  const state = useRef<DragState>({\r\n    lastPosition: {x: 0, y: 0},\r\n  }).current;\r\n\r\n  const optionsRef = useRef(options);\r\n  optionsRef.current = options;\r\n\r\n  useLayoutEffect(() => {\r\n    if (!disabled) {\r\n      draggables.set(id, {\r\n        ...draggables.get(id),\r\n        id,\r\n        ref,\r\n        type: optionsRef.current.type,\r\n        getData: optionsRef.current.getData,\r\n      });\r\n    } else {\r\n      draggables.delete(id);\r\n    }\r\n    return () => {\r\n      draggables.delete(id);\r\n    };\r\n  }, [id, disabled, optionsRef, ref]);\r\n\r\n  // notify monitors connected to the same drag type as this draggable\r\n  const notifyMonitors = (callback: (m: DragMonitor) => void) => {\r\n    dragMonitors.forEach(monitor => {\r\n      if (monitor.type === draggables.get(id)?.type) {\r\n        callback(monitor);\r\n      }\r\n    });\r\n  };\r\n\r\n  const onDragStart = (e: React.DragEvent<HTMLElement>) => {\r\n    const draggable = draggables.get(id);\r\n    const el = ref.current;\r\n    const clickedOnHandle =\r\n      !dragHandleRef.current ||\r\n      !state.clickedEl ||\r\n      dragHandleRef.current.contains(state.clickedEl);\r\n\r\n    // if another interaction is in progress (rotate, resize, drag etc.), bail\r\n    if (activeInteraction || !el || !draggable || !clickedOnHandle) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      return;\r\n    }\r\n\r\n    updateRects(droppables);\r\n    setActiveInteraction('drag');\r\n\r\n    // hide default browser ghost image\r\n    if (hidePreview) {\r\n      hideNativeGhostImage(e);\r\n    }\r\n    // this will hide default browser cursor icon, if \"dropEffect\" is not set in dragOver/dragEnter\r\n    e.dataTransfer.effectAllowed = 'move';\r\n\r\n    state.lastPosition = {x: e.clientX, y: e.clientY};\r\n    state.currentRect = domRectToObj(el.getBoundingClientRect());\r\n    const ie = interactableEvent({rect: state.currentRect!, e});\r\n\r\n    // If there is a preview option, use it to render a custom preview image that will\r\n    // appear under the pointer while dragging. If not, the element itself is dragged by the browser.\r\n    if (preview?.current) {\r\n      preview.current(draggable, node => {\r\n        e.dataTransfer.setDragImage(node, 0, 0);\r\n      });\r\n    }\r\n\r\n    dragSession.status = 'dragging';\r\n    dragSession.dragTargetId = id;\r\n    if (ref.current) {\r\n      ref.current.dataset.dragging = 'true';\r\n    }\r\n\r\n    optionsRef.current.onDragStart?.(ie, draggable);\r\n\r\n    // wait until next frame so changes made in \"onDragStart\" are reflected in drag monitors\r\n    requestAnimationFrame(() => {\r\n      notifyMonitors(m => m.onDragStart?.(ie, draggable));\r\n    });\r\n\r\n    // firefox does not provide clientX/clientY in \"onDrag\", need to listen for dragOver on window instead\r\n    addGlobalListener(window, 'dragover', onDragOver, true);\r\n  };\r\n\r\n  const onDragOver = (e: React.DragEvent<HTMLElement> | DragEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!state.currentRect) return;\r\n\r\n    const deltaX = e.clientX - state.lastPosition.x;\r\n    const deltaY = e.clientY - state.lastPosition.y;\r\n\r\n    const newRect = {\r\n      ...state.currentRect,\r\n      left: state.currentRect.left + deltaX,\r\n      top: state.currentRect.top + deltaY,\r\n    };\r\n\r\n    const ie = interactableEvent({rect: newRect, e, deltaX, deltaY});\r\n\r\n    const target = draggables.get(id);\r\n    if (target) {\r\n      optionsRef.current.onDragMove?.(ie, target);\r\n      notifyMonitors(m => m.onDragMove?.(ie, target));\r\n    }\r\n\r\n    state.lastPosition = {x: e.clientX, y: e.clientY};\r\n    state.currentRect = newRect;\r\n  };\r\n\r\n  const onDragEnd = (e: React.DragEvent<HTMLElement>) => {\r\n    removeAllGlobalListeners();\r\n    if (!state.currentRect) return;\r\n\r\n    setActiveInteraction(null);\r\n    if (emptyImage) {\r\n      emptyImage.remove();\r\n    }\r\n\r\n    const ie = interactableEvent({rect: state.currentRect, e});\r\n\r\n    const draggable = draggables.get(id);\r\n    if (draggable) {\r\n      optionsRef.current.onDragEnd?.(ie, draggable);\r\n      notifyMonitors(m => m.onDragEnd?.(ie, draggable, dragSession!.status));\r\n    }\r\n\r\n    // wait a frame before clearing so monitors have a chance to use drag session status\r\n    requestAnimationFrame(() => {\r\n      dragSession.dragTargetId = undefined;\r\n      dragSession.status = 'inactive';\r\n      if (ref.current) {\r\n        delete ref.current.dataset.dragging;\r\n      }\r\n    });\r\n  };\r\n\r\n  const draggableProps = {\r\n    draggable: !disabled,\r\n    onDragStart,\r\n    onDragEnd,\r\n    onPointerDown: (e: React.PointerEvent) => {\r\n      state.clickedEl = e.target as HTMLElement;\r\n    },\r\n  };\r\n\r\n  return {draggableProps, dragHandleRef};\r\n}\r\n\r\nlet emptyImage: HTMLImageElement | undefined;\r\nfunction hideNativeGhostImage(e: React.DragEvent) {\r\n  if (!emptyImage) {\r\n    emptyImage = new Image();\r\n    // image needs to be in the dom to prevent \"globe\" icon in chrome\r\n    document.body.append(emptyImage);\r\n    emptyImage.src =\r\n      'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\r\n  }\r\n\r\n  e.dataTransfer.setDragImage(emptyImage, 0, 0);\r\n}\r\n","import {UploadedFile} from '@common/uploads/uploaded-file';\r\n\r\nexport async function* readFilesFromDataTransfer(dataTransfer: DataTransfer) {\r\n  const entries: FileSystemEntry[] = [];\r\n\r\n  // Pull out all entries before reading them, otherwise\r\n  // some entries will be lost due to recursion with promises\r\n  for (const item of dataTransfer.items) {\r\n    if (item.kind === 'file') {\r\n      const entry = item.webkitGetAsEntry();\r\n      if (entry) {\r\n        entries.push(entry);\r\n      }\r\n    }\r\n  }\r\n\r\n  for (const entry of entries) {\r\n    if (entry.isFile) {\r\n      if (entry.name === '.DS_Store') continue;\r\n      const file = await getEntryFile(entry as FileSystemFileEntry);\r\n      yield new UploadedFile(file, entry.fullPath);\r\n    } else if (entry.isDirectory) {\r\n      yield* getEntriesFromDirectory(entry as FileSystemDirectoryEntry);\r\n    }\r\n  }\r\n}\r\n\r\nasync function* getEntriesFromDirectory(\r\n  item: FileSystemDirectoryEntry\r\n): AsyncIterable<any> {\r\n  const reader = item.createReader();\r\n\r\n  // We must call readEntries repeatedly because there may be a limit to the\r\n  // number of entries that are returned at once.\r\n  let entries: FileSystemEntry[];\r\n  do {\r\n    entries = await new Promise((resolve, reject) => {\r\n      reader.readEntries(resolve, reject);\r\n    });\r\n\r\n    for (const entry of entries) {\r\n      if (entry.isFile) {\r\n        if (entry.name === '.DS_Store') continue;\r\n        const file = await getEntryFile(entry as FileSystemFileEntry);\r\n        yield new UploadedFile(file, entry.fullPath);\r\n      } else if (entry.isDirectory) {\r\n        yield* getEntriesFromDirectory(entry as FileSystemDirectoryEntry);\r\n      }\r\n    }\r\n  } while (entries.length > 0);\r\n}\r\n\r\nfunction getEntryFile(entry: FileSystemFileEntry): Promise<File> {\r\n  return new Promise((resolve, reject) => entry.file(resolve, reject));\r\n}\r\n","export async function asyncIterableToArray<T>(\r\n  iterator: AsyncIterable<T>\r\n): Promise<T[]> {\r\n  const items: T[] = [];\r\n  for await (const item of iterator) {\r\n    items.push(item);\r\n  }\r\n  return items;\r\n}\r\n","import React, {RefObject, useLayoutEffect, useRef} from 'react';\r\nimport {draggables, dragSession, droppables} from './drag-state';\r\nimport {readFilesFromDataTransfer} from './read-files-from-data-transfer';\r\nimport {asyncIterableToArray} from '@common/utils/array/async-iterable-to-array';\r\nimport {InteractableRect} from '../interactable-event';\r\nimport {DraggableId, MixedDraggable} from './use-draggable';\r\nimport {UploadedFile} from '@common/uploads/uploaded-file';\r\n\r\nexport interface ConnectedDroppable {\r\n  id: DraggableId;\r\n  rect?: InteractableRect;\r\n  disabled?: boolean;\r\n  ref: RefObject<HTMLElement>;\r\n}\r\n\r\n// File dragged in from desktop\r\nexport interface NativeFileDraggable {\r\n  type: 'nativeFile';\r\n  el: null;\r\n  ref: null;\r\n  getData: () => Promise<UploadedFile[]>;\r\n}\r\n\r\ninterface UseDroppableProps<T extends HTMLElement> {\r\n  id: DraggableId;\r\n  disabled?: boolean;\r\n  types: ('nativeFile' | string)[];\r\n  ref: RefObject<T>;\r\n  // this will fire dragEnter/dragLeave/dragOver events when same element is both draggable and drop target and dragging target over itself. Used for showing line previews before/after element during sort.\r\n  allowDragEventsFromItself?: boolean;\r\n  onDragEnter?: (target: MixedDraggable) => void;\r\n  onDragLeave?: (target: MixedDraggable) => void;\r\n  onDragOver?: (\r\n    target: MixedDraggable,\r\n    e: React.DragEvent<HTMLElement>\r\n  ) => void;\r\n  // Handler that is called after draggable is held over droppable for a period of time.\r\n  // This typically opens the item so that the user can drop within it.\r\n  onDropActivate?: (e: MixedDraggable) => void;\r\n  onDrop?: (target: MixedDraggable) => void | Promise<void> | false;\r\n  acceptsDrop?: (target: MixedDraggable) => boolean;\r\n}\r\n\r\ninterface DroppableState {\r\n  dragOverElements: Set<Element>;\r\n  dropActivateTimer: ReturnType<typeof setTimeout> | undefined;\r\n}\r\n\r\nconst DROP_ACTIVATE_TIMEOUT = 400;\r\n\r\nexport function useDroppable<T extends HTMLElement>({\r\n  id,\r\n  disabled,\r\n  ref,\r\n  ...options\r\n}: UseDroppableProps<T>) {\r\n  const state = useRef<DroppableState>({\r\n    dragOverElements: new Set<Element>(),\r\n    dropActivateTimer: undefined,\r\n  }).current;\r\n\r\n  const optionsRef = useRef(options);\r\n  optionsRef.current = options;\r\n\r\n  useLayoutEffect(() => {\r\n    droppables.set(id, {\r\n      ...droppables.get(id),\r\n      disabled,\r\n      id,\r\n      ref,\r\n    });\r\n    return () => {\r\n      droppables.delete(id);\r\n    };\r\n  }, [id, optionsRef, disabled, ref]);\r\n\r\n  // check if drop target accepts drag target\r\n  const canDrop = (draggable: MixedDraggable): boolean => {\r\n    const options = optionsRef.current;\r\n\r\n    const allowEventsOnSelf =\r\n      options.allowDragEventsFromItself ||\r\n      ref.current !== draggable.ref?.current;\r\n\r\n    return !!(\r\n      draggable?.type &&\r\n      allowEventsOnSelf &&\r\n      options.types.includes(draggable.type) &&\r\n      (!options.acceptsDrop || options.acceptsDrop(draggable))\r\n    );\r\n  };\r\n\r\n  const fireDragLeave = (e: React.DragEvent<HTMLElement>) => {\r\n    const draggable = getDraggable(e);\r\n    if (draggable) {\r\n      optionsRef.current.onDragLeave?.(draggable);\r\n    }\r\n  };\r\n\r\n  const onDragEnter = (e: React.DragEvent<HTMLElement>) => {\r\n    e.stopPropagation();\r\n\r\n    state.dragOverElements.add(e.target as Element);\r\n    if (state.dragOverElements.size > 1) {\r\n      return;\r\n    }\r\n\r\n    const draggable = getDraggable(e);\r\n    if (draggable && canDrop(draggable)) {\r\n      optionsRef.current.onDragEnter?.(draggable);\r\n\r\n      clearTimeout(state.dropActivateTimer);\r\n      if (typeof optionsRef.current.onDropActivate === 'function') {\r\n        state.dropActivateTimer = setTimeout(() => {\r\n          if (draggable) {\r\n            optionsRef.current.onDropActivate?.(draggable);\r\n          }\r\n        }, DROP_ACTIVATE_TIMEOUT);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onDragLeave = (e: React.DragEvent<HTMLElement>) => {\r\n    e.stopPropagation();\r\n\r\n    // Track all the targets of dragenter events in a set, and remove them\r\n    // in dragleave. When the set becomes empty, we've left the drop target completely.\r\n    // We must also remove any elements that are no longer in the DOM, because dragleave\r\n    // events will never be fired for these. This can happen, for example, with drop\r\n    // indicators between items, which disappear when the drop target changes.\r\n    state.dragOverElements.delete(e.target as Element);\r\n    for (const element of state.dragOverElements) {\r\n      if (!e.currentTarget.contains(element)) {\r\n        state.dragOverElements.delete(element);\r\n      }\r\n    }\r\n\r\n    if (state.dragOverElements.size > 0) {\r\n      return;\r\n    }\r\n\r\n    const draggable = getDraggable(e);\r\n    if (draggable && canDrop(draggable)) {\r\n      fireDragLeave(e);\r\n      clearTimeout(state.dropActivateTimer);\r\n    }\r\n  };\r\n\r\n  const onDrop = async (e: React.DragEvent<HTMLElement>) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    state.dragOverElements.clear();\r\n\r\n    fireDragLeave(e);\r\n    clearTimeout(state.dropActivateTimer);\r\n\r\n    const draggable = getDraggable(e);\r\n    if (draggable) {\r\n      optionsRef.current.onDragLeave?.(draggable);\r\n\r\n      // drop target does not accept this type of droppable\r\n      if (!canDrop(draggable)) {\r\n        if (dragSession.status !== 'inactive') {\r\n          dragSession.status = 'dropFail';\r\n        }\r\n        // drop target accepts this type, but it might still reject the drop in callback\r\n      } else {\r\n        // allow callback to mark drop as failed\r\n        const dropResult = optionsRef.current.onDrop?.(draggable);\r\n\r\n        // drag session will only be active for draggables within the app, never for files dragged in from desktop\r\n        if (dragSession.status !== 'inactive') {\r\n          dragSession.status =\r\n            dropResult === false ? 'dropFail' : 'dropSuccess';\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const droppableProps = {\r\n    onDragOver: (e: React.DragEvent<HTMLElement>) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      const draggable = getDraggable(e);\r\n      if (draggable && canDrop(draggable)) {\r\n        optionsRef.current.onDragOver?.(draggable, e);\r\n      }\r\n    },\r\n    onDragEnter,\r\n    onDragLeave,\r\n    onDrop,\r\n  };\r\n\r\n  return {\r\n    droppableProps: disabled ? {} : droppableProps,\r\n  };\r\n}\r\n\r\nfunction getDraggable(\r\n  e: React.DragEvent<HTMLElement>\r\n): MixedDraggable | undefined {\r\n  if (dragSession.dragTargetId != null) {\r\n    return draggables.get(dragSession.dragTargetId);\r\n  } else if (e.dataTransfer.types.includes('Files')) {\r\n    return {\r\n      type: 'nativeFile',\r\n      el: null,\r\n      ref: null,\r\n      getData: () => {\r\n        return asyncIterableToArray(readFilesFromDataTransfer(e.dataTransfer));\r\n      },\r\n    };\r\n  }\r\n}\r\n","import {\r\n  DropPosition,\r\n  SortSession,\r\n} from '@common/ui/interactions/dnd/sortable/use-sortable';\r\nimport {SortableStrategy} from '@common/ui/interactions/dnd/sortable/sortable-strategy';\r\nimport {droppables} from '@common/ui/interactions/dnd/drag-state';\r\n\r\nexport const sortableLineStrategy: SortableStrategy = {\r\n  onDragStart: () => {},\r\n  onDragEnter: () => {},\r\n  onDragOver: ({e, ref, item, sortSession, onDropPositionChange}) => {\r\n    const previousPosition = sortSession.dropPosition;\r\n    let newPosition: DropPosition = null;\r\n\r\n    const rect = droppables.get(item)?.rect;\r\n    if (rect) {\r\n      const midY = rect.top + rect.height / 2;\r\n      if (e.clientY <= midY) {\r\n        newPosition = 'before';\r\n      } else if (e.clientY >= midY) {\r\n        newPosition = 'after';\r\n      }\r\n    }\r\n\r\n    if (newPosition !== previousPosition) {\r\n      const overIndex = sortSession.sortables.indexOf(item);\r\n      sortSession.dropPosition = newPosition;\r\n      onDropPositionChange?.(sortSession.dropPosition);\r\n\r\n      clearLinePreview(sortSession);\r\n      if (ref.current) {\r\n        if (sortSession.dropPosition === 'after') {\r\n          addLinePreview(ref.current, 'bottom', sortSession);\r\n        } else {\r\n          // if it's the first row, add preview to the top border, as there's no previous element\r\n          if (overIndex === 0) {\r\n            addLinePreview(ref.current, 'top', sortSession);\r\n            // otherwise add preview to the bottom border of the previous row\r\n          } else {\r\n            const droppableId = sortSession.sortables[overIndex - 1];\r\n            const droppable = droppables.get(droppableId);\r\n            if (droppable?.ref.current) {\r\n              addLinePreview(droppable.ref.current, 'bottom', sortSession);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      const itemIndex = sortSession.sortables.indexOf(item);\r\n\r\n      // don't move item at all if hovering over itself\r\n      if (sortSession.activeIndex === itemIndex) {\r\n        sortSession.finalIndex = sortSession.activeIndex;\r\n        return;\r\n      }\r\n\r\n      // adjust final drop index based on whether we're dropping drag target after or before it's original index\r\n      // this is needed, so we get the same index if target is dropped after current item or before next item\r\n      const dragDirection =\r\n        overIndex > sortSession.activeIndex ? 'after' : 'before';\r\n      if (dragDirection === 'after') {\r\n        sortSession.finalIndex =\r\n          sortSession.dropPosition === 'before' ? itemIndex - 1 : itemIndex;\r\n      } else {\r\n        sortSession.finalIndex =\r\n          sortSession.dropPosition === 'after' ? itemIndex + 1 : itemIndex;\r\n      }\r\n    }\r\n  },\r\n  onDragEnd: sortSession => {\r\n    clearLinePreview(sortSession);\r\n  },\r\n};\r\n\r\nfunction clearLinePreview(sortSession: SortSession) {\r\n  if (sortSession?.linePreviewEl) {\r\n    sortSession.linePreviewEl.style.borderBottomColor = '';\r\n    sortSession.linePreviewEl.style.borderTopColor = '';\r\n    sortSession.linePreviewEl = undefined;\r\n  }\r\n}\r\n\r\nfunction addLinePreview(\r\n  el: HTMLElement,\r\n  side: 'top' | 'bottom',\r\n  sortSession: SortSession,\r\n) {\r\n  const color = 'rgb(var(--be-primary))';\r\n  if (side === 'top') {\r\n    el.style.borderTopColor = color;\r\n  } else {\r\n    el.style.borderBottomColor = color;\r\n  }\r\n  if (sortSession) {\r\n    sortSession.linePreviewEl = el;\r\n  }\r\n}\r\n","import {clamp} from '../number/clamp';\r\n\r\nexport function moveItemInArray<T = any>(\r\n  array: T[],\r\n  fromIndex: number,\r\n  toIndex: number\r\n): T[] {\r\n  const from = clamp(fromIndex, 0, array.length - 1);\r\n  const to = clamp(toIndex, 0, array.length - 1);\r\n\r\n  if (from === to) {\r\n    return array;\r\n  }\r\n\r\n  const target = array[from];\r\n  const delta = to < from ? -1 : 1;\r\n\r\n  for (let i = from; i !== to; i += delta) {\r\n    array[i] = array[i + delta];\r\n  }\r\n\r\n  array[to] = target;\r\n\r\n  return array;\r\n}\r\n","export function moveItemInNewArray<T>(\r\n  array: T[],\r\n  from: number,\r\n  to: number\r\n): T[] {\r\n  const newArray = array.slice();\r\n  newArray.splice(\r\n    to < 0 ? newArray.length + to : to,\r\n    0,\r\n    newArray.splice(from, 1)[0]\r\n  );\r\n\r\n  return newArray;\r\n}\r\n","import {moveItemInArray} from '@common/utils/array/move-item-in-array';\r\nimport {droppables} from '@common/ui/interactions/dnd/drag-state';\r\nimport {moveItemInNewArray} from '@common/utils/array/move-item-in-new-array';\r\nimport type {SortSession} from '@common/ui/interactions/dnd/sortable/use-sortable';\r\nimport type {SortableStrategy} from '@common/ui/interactions/dnd/sortable/sortable-strategy';\r\n\r\nconst transition = 'transform 0.2s cubic-bezier(0.2, 0, 0, 1)';\r\n\r\nexport const sortableTransformStrategy: SortableStrategy = {\r\n  onDragStart: sortSession => {\r\n    sortSession.sortables.forEach((sortable, index) => {\r\n      const droppable = droppables.get(sortable);\r\n      if (!droppable?.ref.current) return;\r\n\r\n      droppable.ref.current.style.transition = transition;\r\n\r\n      if (sortSession?.activeIndex === index) {\r\n        droppable.ref.current.style.opacity = '0.4';\r\n      }\r\n    });\r\n  },\r\n  onDragEnter: (\r\n    sortSession: SortSession,\r\n    overIndex: number,\r\n    currentIndex: number,\r\n  ) => {\r\n    moveItemInArray(sortSession.sortables, currentIndex, overIndex);\r\n    const rects = sortSession.sortables.map(s => droppables.get(s)?.rect);\r\n\r\n    sortSession.sortables.forEach((sortable, index) => {\r\n      if (!sortSession) return;\r\n\r\n      const newRects = moveItemInNewArray(\r\n        rects,\r\n        overIndex,\r\n        sortSession.activeIndex,\r\n      );\r\n      const oldRect = rects[index];\r\n      const newRect = newRects[index];\r\n      const sortableTarget = droppables.get(sortable);\r\n\r\n      if (sortableTarget?.ref.current && newRect && oldRect) {\r\n        const x = newRect.left - oldRect.left;\r\n        const y = newRect.top - oldRect.top;\r\n        sortableTarget.ref.current.style.transform = `translate3d(${x}px, ${y}px, 0)`;\r\n      }\r\n    });\r\n\r\n    sortSession.finalIndex = overIndex;\r\n  },\r\n  onDragOver: () => {},\r\n  onDragEnd: sortSession => {\r\n    // clear any styles and transforms applied to sortables during sorting\r\n    sortSession.sortables.forEach(sortable => {\r\n      const droppable = droppables.get(sortable);\r\n      if (droppable?.ref.current) {\r\n        droppable.ref.current.style.transform = '';\r\n        droppable.ref.current.style.transition = '';\r\n        droppable.ref.current.style.opacity = '';\r\n        droppable.ref.current.style.zIndex = '';\r\n      }\r\n    });\r\n  },\r\n};\r\n","import {moveItemInArray} from '@common/utils/array/move-item-in-array';\r\nimport {droppables} from '@common/ui/interactions/dnd/drag-state';\r\nimport {SortableStrategy} from '@common/ui/interactions/dnd/sortable/sortable-strategy';\r\n\r\nexport const sortableMoveNodeStrategy: SortableStrategy = {\r\n  onDragStart: () => {},\r\n  onDragOver: () => {},\r\n  onDragEnter: (sortSession, overIndex: number, currentIndex: number) => {\r\n    const node = droppables.get(sortSession.sortables[currentIndex])?.ref\r\n      .current;\r\n    if (node) {\r\n      moveNode(node, currentIndex, overIndex);\r\n      moveItemInArray(sortSession.sortables, currentIndex, overIndex);\r\n      sortSession.finalIndex = overIndex;\r\n    }\r\n  },\r\n  onDragEnd: () => {},\r\n};\r\n\r\nfunction moveNode(el: HTMLElement, currentIndex: number, newIndex: number) {\r\n  const parentEl = el.parentElement!;\r\n  if (newIndex < 0) {\r\n    parentEl.prepend(el);\r\n  } else {\r\n    // if parent already contains this node, and we're changing\r\n    // node's index within parent, need to adjust index by one\r\n    if (currentIndex > -1 && currentIndex <= newIndex) {\r\n      newIndex++;\r\n    }\r\n    const ref = parentEl.children.item(newIndex);\r\n    if (ref) {\r\n      ref.before(el);\r\n    } else {\r\n      parentEl.append(el);\r\n    }\r\n  }\r\n}\r\n","import {DraggableId, DragPreviewRenderer, useDraggable} from '../use-draggable';\r\nimport {useDroppable} from '../use-droppable';\r\nimport {RefObject, useEffect} from 'react';\r\nimport {getScrollParent, mergeProps} from '@react-aria/utils';\r\nimport {droppables} from '../drag-state';\r\nimport {updateRects} from '@common/ui/interactions/dnd/update-rects';\r\nimport {sortableLineStrategy} from '@common/ui/interactions/dnd/sortable/sortable-line-strategy';\r\nimport {sortableTransformStrategy} from '@common/ui/interactions/dnd/sortable/sortable-transform-strategy';\r\nimport {sortableMoveNodeStrategy} from '@common/ui/interactions/dnd/sortable/sortable-move-node-strategy';\r\nimport {SortableStrategy} from '@common/ui/interactions/dnd/sortable/sortable-strategy';\r\n\r\nexport interface SortSession {\r\n  // items in this list will be moved when user is sorting\r\n  sortables: DraggableId[];\r\n\r\n  // sortable user started dragging to start this session\r\n  activeSortable: DraggableId;\r\n  activeIndex: number;\r\n\r\n  // final index sortable was dropped in and should be moved to\r\n  finalIndex: number;\r\n\r\n  // drop position for displaying line preview\r\n  dropPosition: DropPosition;\r\n  // element that currently has a line preview at the top or bottom\r\n  linePreviewEl?: HTMLElement;\r\n  scrollParent?: Element;\r\n  scrollListener: () => void;\r\n  ref: RefObject<HTMLElement>;\r\n}\r\n\r\nlet sortSession: null | SortSession = null;\r\n\r\nexport type DropPosition = 'before' | 'after' | null;\r\n\r\ntype StrategyName = 'line' | 'liveSort' | 'moveNode';\r\n\r\nconst strategies: Record<StrategyName, SortableStrategy> = {\r\n  line: sortableLineStrategy,\r\n  liveSort: sortableTransformStrategy,\r\n  moveNode: sortableMoveNodeStrategy,\r\n};\r\n\r\nexport interface UseSortableProps {\r\n  item: DraggableId;\r\n  items: DraggableId[];\r\n  onSortStart?: () => void;\r\n  onSortEnd?: (oldIndex: number, newIndex: number) => void;\r\n  onDragEnd?: () => void;\r\n  onDropPositionChange?: (dropPosition: DropPosition) => void;\r\n  ref: RefObject<HTMLElement>;\r\n  type: string;\r\n  preview?: RefObject<DragPreviewRenderer>;\r\n  strategy?: StrategyName;\r\n  disabled?: boolean;\r\n}\r\nexport function useSortable({\r\n  item,\r\n  items,\r\n  type,\r\n  ref,\r\n  onSortEnd,\r\n  onSortStart,\r\n  onDragEnd,\r\n  preview,\r\n  disabled,\r\n  onDropPositionChange,\r\n  strategy = 'liveSort',\r\n}: UseSortableProps) {\r\n  // todo: issue with sorting after scrolling menu editor item list\r\n\r\n  // update sortables and active index, in case we lazy load more items while sorting\r\n  useEffect(() => {\r\n    if (sortSession && sortSession.sortables.length !== items.length) {\r\n      sortSession.sortables = [...items];\r\n      sortSession.activeIndex = items.indexOf(item);\r\n    }\r\n  }, [items, item]);\r\n\r\n  const {draggableProps, dragHandleRef} = useDraggable({\r\n    id: item,\r\n    ref,\r\n    type,\r\n    preview,\r\n    disabled,\r\n    onDragStart: () => {\r\n      sortSession = {\r\n        sortables: [...items],\r\n        activeSortable: item,\r\n        activeIndex: items.indexOf(item),\r\n        finalIndex: items.indexOf(item),\r\n        dropPosition: null,\r\n        ref,\r\n        scrollParent: ref.current ? getScrollParent(ref.current) : undefined,\r\n        scrollListener: () => {\r\n          updateRects(droppables);\r\n        },\r\n      };\r\n      strategies[strategy].onDragStart(sortSession);\r\n\r\n      onSortStart?.();\r\n      sortSession.scrollParent?.addEventListener(\r\n        'scroll',\r\n        sortSession.scrollListener,\r\n      );\r\n    },\r\n    onDragEnd: () => {\r\n      if (!sortSession) return;\r\n\r\n      sortSession.dropPosition = null;\r\n      onDropPositionChange?.(sortSession.dropPosition);\r\n      if (sortSession.activeIndex !== sortSession.finalIndex) {\r\n        onSortEnd?.(sortSession.activeIndex, sortSession.finalIndex);\r\n      }\r\n      sortSession.scrollParent?.removeEventListener(\r\n        'scroll',\r\n        sortSession.scrollListener,\r\n      );\r\n      strategies[strategy].onDragEnd(sortSession);\r\n      // call \"onDragEnd\" after \"onSortEnd\", so listener has a chance to use sort session data\r\n      onDragEnd?.();\r\n      sortSession = null;\r\n    },\r\n    getData: () => {},\r\n  });\r\n\r\n  const {droppableProps} = useDroppable({\r\n    id: item,\r\n    ref,\r\n    types: [type],\r\n    disabled,\r\n    allowDragEventsFromItself: true,\r\n    onDragOver: (target, e) => {\r\n      if (!sortSession) return;\r\n      strategies[strategy].onDragOver({\r\n        e,\r\n        ref,\r\n        item,\r\n        sortSession,\r\n        onDropPositionChange,\r\n      });\r\n    },\r\n    onDragEnter: () => {\r\n      if (!sortSession) return;\r\n      const overIndex = sortSession.sortables.indexOf(item);\r\n      const oldIndex = sortSession.sortables.indexOf(\r\n        sortSession.activeSortable,\r\n      );\r\n      strategies[strategy].onDragEnter(sortSession, overIndex, oldIndex);\r\n    },\r\n    onDragLeave: () => {\r\n      if (!sortSession) return;\r\n      sortSession.dropPosition = null;\r\n      onDropPositionChange?.(sortSession.dropPosition);\r\n    },\r\n  });\r\n\r\n  return {\r\n    sortableProps: {...mergeProps(draggableProps, droppableProps)},\r\n    dragHandleRef,\r\n  };\r\n}\r\n","'use strict'\n\nfunction _process (v, mod) {\n  var i\n  var r\n\n  if (typeof mod === 'function') {\n    r = mod(v)\n    if (r !== undefined) {\n      v = r\n    }\n  } else if (Array.isArray(mod)) {\n    for (i = 0; i < mod.length; i++) {\n      r = mod[i](v)\n      if (r !== undefined) {\n        v = r\n      }\n    }\n  }\n\n  return v\n}\n\nfunction parseKey (key, val) {\n  // detect negative index notation\n  if (key[0] === '-' && Array.isArray(val) && /^-\\d+$/.test(key)) {\n    return val.length + parseInt(key, 10)\n  }\n  return key\n}\n\nfunction isIndex (k) {\n  return /^\\d+$/.test(k)\n}\n\nfunction isObject (val) {\n  return Object.prototype.toString.call(val) === '[object Object]'\n}\n\nfunction isArrayOrObject (val) {\n  return Object(val) === val\n}\n\nfunction isEmptyObject (val) {\n  return Object.keys(val).length === 0\n}\n\nvar blacklist = ['__proto__', 'prototype', 'constructor']\nvar blacklistFilter = function (part) { return blacklist.indexOf(part) === -1 }\n\nfunction parsePath (path, sep) {\n  if (path.indexOf('[') >= 0) {\n    path = path.replace(/\\[/g, sep).replace(/]/g, '')\n  }\n\n  var parts = path.split(sep)\n\n  var check = parts.filter(blacklistFilter)\n\n  if (check.length !== parts.length) {\n    throw Error('Refusing to update blacklisted property ' + path)\n  }\n\n  return parts\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n\nfunction DotObject (separator, override, useArray, useBrackets) {\n  if (!(this instanceof DotObject)) {\n    return new DotObject(separator, override, useArray, useBrackets)\n  }\n\n  if (typeof override === 'undefined') override = false\n  if (typeof useArray === 'undefined') useArray = true\n  if (typeof useBrackets === 'undefined') useBrackets = true\n  this.separator = separator || '.'\n  this.override = override\n  this.useArray = useArray\n  this.useBrackets = useBrackets\n  this.keepArray = false\n\n  // contains touched arrays\n  this.cleanup = []\n}\n\nvar dotDefault = new DotObject('.', false, true, true)\nfunction wrap (method) {\n  return function () {\n    return dotDefault[method].apply(dotDefault, arguments)\n  }\n}\n\nDotObject.prototype._fill = function (a, obj, v, mod) {\n  var k = a.shift()\n\n  if (a.length > 0) {\n    obj[k] = obj[k] || (this.useArray && isIndex(a[0]) ? [] : {})\n\n    if (!isArrayOrObject(obj[k])) {\n      if (this.override) {\n        obj[k] = {}\n      } else {\n        if (!(isArrayOrObject(v) && isEmptyObject(v))) {\n          throw new Error(\n            'Trying to redefine `' + k + '` which is a ' + typeof obj[k]\n          )\n        }\n\n        return\n      }\n    }\n\n    this._fill(a, obj[k], v, mod)\n  } else {\n    if (!this.override && isArrayOrObject(obj[k]) && !isEmptyObject(obj[k])) {\n      if (!(isArrayOrObject(v) && isEmptyObject(v))) {\n        throw new Error(\"Trying to redefine non-empty obj['\" + k + \"']\")\n      }\n\n      return\n    }\n\n    obj[k] = _process(v, mod)\n  }\n}\n\n/**\n *\n * Converts an object with dotted-key/value pairs to it's expanded version\n *\n * Optionally transformed by a set of modifiers.\n *\n * Usage:\n *\n *   var row = {\n *     'nr': 200,\n *     'doc.name': '  My Document  '\n *   }\n *\n *   var mods = {\n *     'doc.name': [_s.trim, _s.underscored]\n *   }\n *\n *   dot.object(row, mods)\n *\n * @param {Object} obj\n * @param {Object} mods\n */\nDotObject.prototype.object = function (obj, mods) {\n  var self = this\n\n  Object.keys(obj).forEach(function (k) {\n    var mod = mods === undefined ? null : mods[k]\n    // normalize array notation.\n    var ok = parsePath(k, self.separator).join(self.separator)\n\n    if (ok.indexOf(self.separator) !== -1) {\n      self._fill(ok.split(self.separator), obj, obj[k], mod)\n      delete obj[k]\n    } else {\n      obj[k] = _process(obj[k], mod)\n    }\n  })\n\n  return obj\n}\n\n/**\n * @param {String} path dotted path\n * @param {String} v value to be set\n * @param {Object} obj object to be modified\n * @param {Function|Array} mod optional modifier\n */\nDotObject.prototype.str = function (path, v, obj, mod) {\n  var ok = parsePath(path, this.separator).join(this.separator)\n\n  if (path.indexOf(this.separator) !== -1) {\n    this._fill(ok.split(this.separator), obj, v, mod)\n  } else {\n    obj[path] = _process(v, mod)\n  }\n\n  return obj\n}\n\n/**\n *\n * Pick a value from an object using dot notation.\n *\n * Optionally remove the value\n *\n * @param {String} path\n * @param {Object} obj\n * @param {Boolean} remove\n */\nDotObject.prototype.pick = function (path, obj, remove, reindexArray) {\n  var i\n  var keys\n  var val\n  var key\n  var cp\n\n  keys = parsePath(path, this.separator)\n  for (i = 0; i < keys.length; i++) {\n    key = parseKey(keys[i], obj)\n    if (obj && typeof obj === 'object' && key in obj) {\n      if (i === keys.length - 1) {\n        if (remove) {\n          val = obj[key]\n          if (reindexArray && Array.isArray(obj)) {\n            obj.splice(key, 1)\n          } else {\n            delete obj[key]\n          }\n          if (Array.isArray(obj)) {\n            cp = keys.slice(0, -1).join('.')\n            if (this.cleanup.indexOf(cp) === -1) {\n              this.cleanup.push(cp)\n            }\n          }\n          return val\n        } else {\n          return obj[key]\n        }\n      } else {\n        obj = obj[key]\n      }\n    } else {\n      return undefined\n    }\n  }\n  if (remove && Array.isArray(obj)) {\n    obj = obj.filter(function (n) {\n      return n !== undefined\n    })\n  }\n  return obj\n}\n/**\n *\n * Delete value from an object using dot notation.\n *\n * @param {String} path\n * @param {Object} obj\n * @return {any} The removed value\n */\nDotObject.prototype.delete = function (path, obj) {\n  return this.remove(path, obj, true)\n}\n\n/**\n *\n * Remove value from an object using dot notation.\n *\n * Will remove multiple items if path is an array.\n * In this case array indexes will be retained until all\n * removals have been processed.\n *\n * Use dot.delete() to automatically  re-index arrays.\n *\n * @param {String|Array<String>} path\n * @param {Object} obj\n * @param {Boolean} reindexArray\n * @return {any} The removed value\n */\nDotObject.prototype.remove = function (path, obj, reindexArray) {\n  var i\n\n  this.cleanup = []\n  if (Array.isArray(path)) {\n    for (i = 0; i < path.length; i++) {\n      this.pick(path[i], obj, true, reindexArray)\n    }\n    if (!reindexArray) {\n      this._cleanup(obj)\n    }\n    return obj\n  } else {\n    return this.pick(path, obj, true, reindexArray)\n  }\n}\n\nDotObject.prototype._cleanup = function (obj) {\n  var ret\n  var i\n  var keys\n  var root\n  if (this.cleanup.length) {\n    for (i = 0; i < this.cleanup.length; i++) {\n      keys = this.cleanup[i].split('.')\n      root = keys.splice(0, -1).join('.')\n      ret = root ? this.pick(root, obj) : obj\n      ret = ret[keys[0]].filter(function (v) {\n        return v !== undefined\n      })\n      this.set(this.cleanup[i], ret, obj)\n    }\n    this.cleanup = []\n  }\n}\n\n/**\n * Alias method  for `dot.remove`\n *\n * Note: this is not an alias for dot.delete()\n *\n * @param {String|Array<String>} path\n * @param {Object} obj\n * @param {Boolean} reindexArray\n * @return {any} The removed value\n */\nDotObject.prototype.del = DotObject.prototype.remove\n\n/**\n *\n * Move a property from one place to the other.\n *\n * If the source path does not exist (undefined)\n * the target property will not be set.\n *\n * @param {String} source\n * @param {String} target\n * @param {Object} obj\n * @param {Function|Array} mods\n * @param {Boolean} merge\n */\nDotObject.prototype.move = function (source, target, obj, mods, merge) {\n  if (typeof mods === 'function' || Array.isArray(mods)) {\n    this.set(target, _process(this.pick(source, obj, true), mods), obj, merge)\n  } else {\n    merge = mods\n    this.set(target, this.pick(source, obj, true), obj, merge)\n  }\n\n  return obj\n}\n\n/**\n *\n * Transfer a property from one object to another object.\n *\n * If the source path does not exist (undefined)\n * the property on the other object will not be set.\n *\n * @param {String} source\n * @param {String} target\n * @param {Object} obj1\n * @param {Object} obj2\n * @param {Function|Array} mods\n * @param {Boolean} merge\n */\nDotObject.prototype.transfer = function (\n  source,\n  target,\n  obj1,\n  obj2,\n  mods,\n  merge\n) {\n  if (typeof mods === 'function' || Array.isArray(mods)) {\n    this.set(\n      target,\n      _process(this.pick(source, obj1, true), mods),\n      obj2,\n      merge\n    )\n  } else {\n    merge = mods\n    this.set(target, this.pick(source, obj1, true), obj2, merge)\n  }\n\n  return obj2\n}\n\n/**\n *\n * Copy a property from one object to another object.\n *\n * If the source path does not exist (undefined)\n * the property on the other object will not be set.\n *\n * @param {String} source\n * @param {String} target\n * @param {Object} obj1\n * @param {Object} obj2\n * @param {Function|Array} mods\n * @param {Boolean} merge\n */\nDotObject.prototype.copy = function (source, target, obj1, obj2, mods, merge) {\n  if (typeof mods === 'function' || Array.isArray(mods)) {\n    this.set(\n      target,\n      _process(\n        // clone what is picked\n        JSON.parse(JSON.stringify(this.pick(source, obj1, false))),\n        mods\n      ),\n      obj2,\n      merge\n    )\n  } else {\n    merge = mods\n    this.set(target, this.pick(source, obj1, false), obj2, merge)\n  }\n\n  return obj2\n}\n\n/**\n *\n * Set a property on an object using dot notation.\n *\n * @param {String} path\n * @param {any} val\n * @param {Object} obj\n * @param {Boolean} merge\n */\nDotObject.prototype.set = function (path, val, obj, merge) {\n  var i\n  var k\n  var keys\n  var key\n\n  // Do not operate if the value is undefined.\n  if (typeof val === 'undefined') {\n    return obj\n  }\n  keys = parsePath(path, this.separator)\n\n  for (i = 0; i < keys.length; i++) {\n    key = keys[i]\n    if (i === keys.length - 1) {\n      if (merge && isObject(val) && isObject(obj[key])) {\n        for (k in val) {\n          if (hasOwnProperty.call(val, k)) {\n            obj[key][k] = val[k]\n          }\n        }\n      } else if (merge && Array.isArray(obj[key]) && Array.isArray(val)) {\n        for (var j = 0; j < val.length; j++) {\n          obj[keys[i]].push(val[j])\n        }\n      } else {\n        obj[key] = val\n      }\n    } else if (\n      // force the value to be an object\n      !hasOwnProperty.call(obj, key) ||\n      (!isObject(obj[key]) && !Array.isArray(obj[key]))\n    ) {\n      // initialize as array if next key is numeric\n      if (/^\\d+$/.test(keys[i + 1])) {\n        obj[key] = []\n      } else {\n        obj[key] = {}\n      }\n    }\n    obj = obj[key]\n  }\n  return obj\n}\n\n/**\n *\n * Transform an object\n *\n * Usage:\n *\n *   var obj = {\n *     \"id\": 1,\n *    \"some\": {\n *      \"thing\": \"else\"\n *    }\n *   }\n *\n *   var transform = {\n *     \"id\": \"nr\",\n *    \"some.thing\": \"name\"\n *   }\n *\n *   var tgt = dot.transform(transform, obj)\n *\n * @param {Object} recipe Transform recipe\n * @param {Object} obj Object to be transformed\n * @param {Array} mods modifiers for the target\n */\nDotObject.prototype.transform = function (recipe, obj, tgt) {\n  obj = obj || {}\n  tgt = tgt || {}\n  Object.keys(recipe).forEach(\n    function (key) {\n      this.set(recipe[key], this.pick(key, obj), tgt)\n    }.bind(this)\n  )\n  return tgt\n}\n\n/**\n *\n * Convert object to dotted-key/value pair\n *\n * Usage:\n *\n *   var tgt = dot.dot(obj)\n *\n *   or\n *\n *   var tgt = {}\n *   dot.dot(obj, tgt)\n *\n * @param {Object} obj source object\n * @param {Object} tgt target object\n * @param {Array} path path array (internal)\n */\nDotObject.prototype.dot = function (obj, tgt, path) {\n  tgt = tgt || {}\n  path = path || []\n  var isArray = Array.isArray(obj)\n\n  Object.keys(obj).forEach(\n    function (key) {\n      var index = isArray && this.useBrackets ? '[' + key + ']' : key\n      if (\n        isArrayOrObject(obj[key]) &&\n        ((isObject(obj[key]) && !isEmptyObject(obj[key])) ||\n          (Array.isArray(obj[key]) && !this.keepArray && obj[key].length !== 0))\n      ) {\n        if (isArray && this.useBrackets) {\n          var previousKey = path[path.length - 1] || ''\n          return this.dot(\n            obj[key],\n            tgt,\n            path.slice(0, -1).concat(previousKey + index)\n          )\n        } else {\n          return this.dot(obj[key], tgt, path.concat(index))\n        }\n      } else {\n        if (isArray && this.useBrackets) {\n          tgt[path.join(this.separator).concat('[' + key + ']')] = obj[key]\n        } else {\n          tgt[path.concat(index).join(this.separator)] = obj[key]\n        }\n      }\n    }.bind(this)\n  )\n  return tgt\n}\n\nDotObject.pick = wrap('pick')\nDotObject.move = wrap('move')\nDotObject.transfer = wrap('transfer')\nDotObject.transform = wrap('transform')\nDotObject.copy = wrap('copy')\nDotObject.object = wrap('object')\nDotObject.str = wrap('str')\nDotObject.set = wrap('set')\nDotObject.delete = wrap('delete')\nDotObject.del = DotObject.remove = wrap('remove')\nDotObject.dot = wrap('dot');\n['override', 'overwrite'].forEach(function (prop) {\n  Object.defineProperty(DotObject, prop, {\n    get: function () {\n      return dotDefault.override\n    },\n    set: function (val) {\n      dotDefault.override = !!val\n    }\n  })\n});\n['useArray', 'keepArray', 'useBrackets'].forEach(function (prop) {\n  Object.defineProperty(DotObject, prop, {\n    get: function () {\n      return dotDefault[prop]\n    },\n    set: function (val) {\n      dotDefault[prop] = val\n    }\n  })\n})\n\nDotObject._process = _process\n\nmodule.exports = DotObject\n","import {createPortal, flushSync} from 'react-dom';\r\nimport React, {useImperativeHandle, useRef, useState} from 'react';\r\nimport {ConnectedDraggable, DragPreviewRenderer} from './use-draggable';\r\nimport {rootEl} from '@common/core/root-el';\r\n\r\nexport interface DragPreviewProps {\r\n  children: (draggable: ConnectedDraggable) => JSX.Element;\r\n}\r\nexport const DragPreview = React.forwardRef<\r\n  DragPreviewRenderer,\r\n  DragPreviewProps\r\n>((props, ref) => {\r\n  const render = props.children;\r\n  const [children, setChildren] = useState<JSX.Element | null>(null);\r\n  const domRef = useRef<HTMLDivElement>(null!);\r\n\r\n  useImperativeHandle(\r\n    ref,\r\n    () =>\r\n      (\r\n        draggable: ConnectedDraggable,\r\n        callback: (node: HTMLElement) => void,\r\n      ) => {\r\n        // This will be called during the onDragStart event by useDrag. We need to render the\r\n        // preview synchronously before this event returns, so we can call event.dataTransfer.setDragImage.\r\n        flushSync(() => {\r\n          setChildren(render(draggable));\r\n        });\r\n\r\n        // Yield back to useDrag to set the drag image.\r\n        callback(domRef.current);\r\n\r\n        // Remove the preview from the DOM after a frame so the browser has time to paint.\r\n        requestAnimationFrame(() => {\r\n          setChildren(null);\r\n        });\r\n      },\r\n    [render],\r\n  );\r\n\r\n  if (!children) {\r\n    return null;\r\n  }\r\n\r\n  // portal preview, in case in needs to be used in <tr> or another element that does not accept div as child\r\n  return createPortal(\r\n    <div\r\n      style={{zIndex: -100, position: 'absolute', top: 0, left: -100000}}\r\n      ref={domRef}\r\n    >\r\n      {children}\r\n    </div>,\r\n    rootEl,\r\n  );\r\n});\r\n","import {Fragment, memo} from 'react';\r\nimport {useTrans, UseTransReturn} from '@common/i18n/use-trans';\r\nimport {message} from '@common/i18n/message';\r\n\r\ninterface ParsedMS {\r\n  days: number;\r\n  hours: number;\r\n  minutes: number;\r\n  seconds: number;\r\n}\r\n\r\ninterface FormattedTrackDurationProps {\r\n  ms?: number;\r\n  minutes?: number;\r\n  seconds?: number;\r\n  verbose?: boolean;\r\n  addZeroToFirstUnit?: boolean;\r\n}\r\nexport const FormattedDuration = memo(\r\n  ({\r\n    minutes,\r\n    seconds,\r\n    ms,\r\n    verbose = false,\r\n    addZeroToFirstUnit = true,\r\n  }: FormattedTrackDurationProps) => {\r\n    const {trans} = useTrans();\r\n\r\n    if (minutes) {\r\n      ms = minutes * 60000;\r\n    } else if (seconds) {\r\n      ms = seconds * 1000;\r\n    }\r\n    if (!ms) {\r\n      ms = 0;\r\n    }\r\n\r\n    const unsignedMs = ms < 0 ? -ms : ms;\r\n    const parsedMS: ParsedMS = {\r\n      days: Math.trunc(unsignedMs / 86400000),\r\n      hours: Math.trunc(unsignedMs / 3600000) % 24,\r\n      minutes: Math.trunc(unsignedMs / 60000) % 60,\r\n      seconds: Math.trunc(unsignedMs / 1000) % 60,\r\n    };\r\n\r\n    let formattedValue: string;\r\n    if (verbose) {\r\n      formattedValue = formatVerbose(parsedMS, trans);\r\n    } else {\r\n      formattedValue = formatCompact(parsedMS, addZeroToFirstUnit);\r\n    }\r\n\r\n    return <Fragment>{formattedValue}</Fragment>;\r\n  }\r\n);\r\n\r\nfunction formatVerbose(t: ParsedMS, trans: UseTransReturn['trans']) {\r\n  const output: string[] = [];\r\n\r\n  if (t.days) {\r\n    output.push(`${t.days}${trans(message('d'))}`);\r\n  }\r\n  if (t.hours) {\r\n    output.push(`${t.hours}${trans(message('hr'))}`);\r\n  }\r\n  if (t.minutes) {\r\n    output.push(`${t.minutes}${trans(message('min'))}`);\r\n  }\r\n  if (t.seconds && !t.hours) {\r\n    output.push(`${t.seconds}${trans(message('sec'))}`);\r\n  }\r\n\r\n  return output.join(' ');\r\n}\r\n\r\nfunction formatCompact(t: ParsedMS, addZeroToFirstUnit = true) {\r\n  const seconds = addZero(t.seconds);\r\n  let output = '';\r\n  if (t.days && !output) {\r\n    output = `${t.days}:${addZero(t.hours)}:${addZero(t.minutes)}:${seconds}`;\r\n  }\r\n  if (t.hours && !output) {\r\n    output = `${addZero(t.hours, addZeroToFirstUnit)}:${addZero(\r\n      t.minutes\r\n    )}:${seconds}`;\r\n  }\r\n  if (!output) {\r\n    output = `${addZero(t.minutes, addZeroToFirstUnit)}:${seconds}`;\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction addZero(v: number, addZero = true) {\r\n  if (!addZero) return v;\r\n  let value = `${v}`;\r\n  if (value.length === 1) {\r\n    value = '0' + value;\r\n  }\r\n  return value;\r\n}\r\n","export const GENRE_MODEL = 'genre';\r\n\r\nexport interface Genre {\r\n  id: number;\r\n  name: string;\r\n  display_name: string;\r\n  model_type: 'genre';\r\n  image: string;\r\n}\r\n","export const WAVE_WIDTH = 1365;\r\nexport const WAVE_HEIGHT = 45;\r\nconst BAR_WIDTH = 3;\r\nconst BAR_GAP: number = 0.5;\r\n\r\nexport function generateWaveformData(file: File): Promise<number[][] | null> {\r\n  const audioContext = new window.AudioContext();\r\n  return new Promise((resolve, abort) => {\r\n    const canvas = document.createElement('canvas');\r\n    const context = canvas.getContext('2d');\r\n\r\n    if (!context) {\r\n      abort();\r\n      return;\r\n    }\r\n    canvas.width = WAVE_WIDTH;\r\n    canvas.height = WAVE_HEIGHT;\r\n\r\n    // read file buffer\r\n    const reader = new FileReader();\r\n    reader.onload = e => {\r\n      const buffer = e.target?.result;\r\n      if (!buffer) {\r\n        abort();\r\n      } else {\r\n        audioContext.decodeAudioData(\r\n          buffer as ArrayBuffer,\r\n          buffer => {\r\n            const waveData = extractBuffer(buffer, context);\r\n            resolve(waveData);\r\n          },\r\n          () => resolve(null),\r\n        );\r\n      }\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  });\r\n}\r\n\r\nfunction extractBuffer(buffer: AudioBuffer, context: CanvasRenderingContext2D) {\r\n  const waveData: number[][] = [];\r\n  const channelData = buffer.getChannelData(0);\r\n  const sections = WAVE_WIDTH;\r\n  const len = Math.floor(channelData.length / sections);\r\n  const maxHeight = WAVE_HEIGHT;\r\n  const vals = [];\r\n  for (let i = 0; i < sections; i += BAR_WIDTH) {\r\n    vals.push(bufferMeasure(i * len, len, channelData) * 10000);\r\n  }\r\n\r\n  for (let j = 0; j < sections; j += BAR_WIDTH) {\r\n    const scale = maxHeight / Math.max(...vals);\r\n    let val = bufferMeasure(j * len, len, channelData) * 10000;\r\n    val *= scale;\r\n    val += 1;\r\n    waveData.push(getBarData(j, val));\r\n  }\r\n\r\n  // clear canvas for redrawing\r\n  context.clearRect(0, 0, WAVE_WIDTH, WAVE_HEIGHT);\r\n  return waveData;\r\n}\r\n\r\nfunction bufferMeasure(position: number, length: number, data: Float32Array) {\r\n  let sum = 0.0;\r\n  for (let i = position; i <= position + length - 1; i++) {\r\n    sum += Math.pow(data[i], 2);\r\n  }\r\n  return Math.sqrt(sum / data.length);\r\n}\r\n\r\nfunction getBarData(i: number, h: number) {\r\n  let w = BAR_WIDTH;\r\n  if (BAR_GAP !== 0) {\r\n    w *= Math.abs(1 - BAR_GAP);\r\n  }\r\n  const x = i + w / 2,\r\n    y = WAVE_HEIGHT - h;\r\n\r\n  return [x, y, w, h];\r\n}\r\n","import {Album} from '@app/web-player/albums/album';\r\n\r\nexport function assignAlbumToTracks(album: Album): Album {\r\n  album.tracks = album.tracks?.map(track => {\r\n    if (!track.album) {\r\n      track.album = {...album, tracks: undefined};\r\n    }\r\n    return track;\r\n  });\r\n  return album;\r\n}\r\n","import {useQuery} from '@tanstack/react-query';\r\nimport {apiClient} from '@common/http/query-client';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {useParams} from 'react-router-dom';\r\nimport {Track} from '@app/web-player/tracks/track';\r\nimport {assignAlbumToTracks} from '@app/web-player/albums/assign-album-to-tracks';\r\nimport {getBootstrapData} from '@common/core/bootstrap-data/use-backend-bootstrap-data';\r\n\r\nexport interface getTrackResponse extends BackendResponse {\r\n  track: Track;\r\n  loader: Params['loader'];\r\n}\r\n\r\ninterface Params {\r\n  loader: 'track' | 'trackPage' | 'editTrackPage';\r\n}\r\n\r\nexport function useTrack(params: Params) {\r\n  const {trackId} = useParams();\r\n  return useQuery({\r\n    queryKey: ['tracks', +trackId!, params],\r\n    queryFn: () => fetchTrack(trackId!, params),\r\n    initialData: () => {\r\n      const data = getBootstrapData().loaders?.[params.loader];\r\n      if (data?.track?.id == trackId && data?.loader === params.loader) {\r\n        return data;\r\n      }\r\n      return undefined;\r\n    },\r\n  });\r\n}\r\n\r\nfunction fetchTrack(trackId: number | string, params: Params) {\r\n  return apiClient\r\n    .get<getTrackResponse>(`tracks/${trackId}`, {params})\r\n    .then(response => {\r\n      if (response.data.track.album) {\r\n        response.data.track = {\r\n          ...response.data.track,\r\n          album: assignAlbumToTracks(response.data.track.album),\r\n        };\r\n      }\r\n      return response.data;\r\n    });\r\n}\r\n","import {useQuery} from '@tanstack/react-query';\r\nimport {apiClient} from '@common/http/query-client';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {useParams} from 'react-router-dom';\r\nimport {Album} from '@app/web-player/albums/album';\r\nimport {assignAlbumToTracks} from '@app/web-player/albums/assign-album-to-tracks';\r\nimport {getBootstrapData} from '@common/core/bootstrap-data/use-backend-bootstrap-data';\r\n\r\nexport interface GetAlbumResponse extends BackendResponse {\r\n  album: Album;\r\n  loader: Params['loader'];\r\n}\r\n\r\ninterface Params {\r\n  loader: 'albumPage' | 'editAlbumPage' | 'album' | 'albumEmbed';\r\n}\r\n\r\nexport function useAlbum(params: Params) {\r\n  const {albumId} = useParams();\r\n  return useQuery({\r\n    queryKey: ['albums', +albumId!],\r\n    queryFn: () => fetchAlbum(albumId!, params),\r\n    initialData: () => {\r\n      const data = getBootstrapData().loaders?.[params.loader];\r\n      if (data?.album?.id == albumId && data?.loader === params.loader) {\r\n        return data;\r\n      }\r\n      return undefined;\r\n    },\r\n  });\r\n}\r\n\r\nfunction fetchAlbum(albumId: number | string, params: Params) {\r\n  return apiClient\r\n    .get<GetAlbumResponse>(`albums/${albumId}`, {\r\n      params,\r\n    })\r\n    .then(response => {\r\n      response.data.album = assignAlbumToTracks(response.data.album);\r\n      return response.data;\r\n    });\r\n}\r\n","import {Avatar, AvatarProps} from '@common/ui/images/avatar';\r\nimport {User} from '@common/auth/user';\r\nimport {useContext} from 'react';\r\nimport {SiteConfigContext} from '@common/core/settings/site-config-context';\r\n\r\ninterface UserAvatarProps extends Omit<AvatarProps, 'label' | 'src' | 'link'> {\r\n  user?: User;\r\n}\r\nexport function UserAvatar({user, ...props}: UserAvatarProps) {\r\n  const {auth} = useContext(SiteConfigContext);\r\n  return (\r\n    <Avatar\r\n      {...props}\r\n      label={user?.display_name}\r\n      src={user?.avatar}\r\n      link={user?.id && auth.getUserProfileLink?.(user)}\r\n    />\r\n  );\r\n}\r\n","import dot from 'dot-object';\r\n\r\nconst MAX_SAFE_INTEGER = 9007199254740991;\r\n\r\nexport function sortArrayOfObjects<T extends object>(\r\n  data: T[],\r\n  orderBy: string,\r\n  orderDir: 'asc' | 'desc' = 'desc'\r\n): T[] {\r\n  return data.sort((a, b) => {\r\n    let valueA = sortingDataAccessor(a, orderBy);\r\n    let valueB = sortingDataAccessor(b, orderBy);\r\n\r\n    // If there are data in the column that can be converted to a number,\r\n    // it must be ensured that the rest of the data\r\n    // is of the same type so as not to order incorrectly.\r\n    const valueAType = typeof valueA;\r\n    const valueBType = typeof valueB;\r\n\r\n    if (valueAType !== valueBType) {\r\n      if (valueAType === 'number') {\r\n        valueA += '';\r\n      }\r\n      if (valueBType === 'number') {\r\n        valueB += '';\r\n      }\r\n    }\r\n\r\n    // If both valueA and valueB exist (truthy), then compare the two. Otherwise, check if\r\n    // one value exists while the other doesn't. In this case, existing value should come last.\r\n    // This avoids inconsistent results when comparing values to undefined/null.\r\n    // If neither value exists, return 0 (equal).\r\n    let comparatorResult = 0;\r\n    if (valueA != null && valueB != null) {\r\n      // Check if one value is greater than the other; if equal, comparatorResult should remain 0.\r\n      if (valueA > valueB) {\r\n        comparatorResult = 1;\r\n      } else if (valueA < valueB) {\r\n        comparatorResult = -1;\r\n      }\r\n    } else if (valueA != null) {\r\n      comparatorResult = 1;\r\n    } else if (valueB != null) {\r\n      comparatorResult = -1;\r\n    }\r\n\r\n    return comparatorResult * (orderDir === 'asc' ? 1 : -1);\r\n  });\r\n}\r\n\r\n/**\r\n * Data accessor function that is used for accessing data properties for sorting through\r\n * the default sortData function.\r\n * This default function assumes that the sort header IDs (which defaults to the column name)\r\n * matches the data's properties (e.g. column Xyz represents data['Xyz']).\r\n * May be set to a custom function for different behavior.\r\n */\r\nfunction sortingDataAccessor(data: object, key: string): string {\r\n  const value = dot.pick(key, data);\r\n\r\n  if (isNumberValue(value)) {\r\n    const numberValue = Number(value);\r\n\r\n    // Numbers beyond `MAX_SAFE_INTEGER` can't be compared reliably, so we\r\n    // leave them as strings. For more info: https://goo.gl/y5vbSg\r\n    return numberValue < MAX_SAFE_INTEGER ? numberValue : value;\r\n  }\r\n\r\n  return value;\r\n}\r\n\r\nfunction isNumberValue(value: any): boolean {\r\n  // parseFloat(value) handles most of the cases we're interested in (it treats null, empty string,\r\n  // and other non-number values as NaN, where Number just uses 0) but it considers the string\r\n  // '123hello' to be a valid number. Therefore, we also check if Number(value) is NaN.\r\n  return !isNaN(parseFloat(value as any)) && !isNaN(Number(value));\r\n}\r\n","import {useMemo, useState} from 'react';\r\nimport {SortDescriptor} from '@common/ui/tables/types/sort-descriptor';\r\nimport {sortArrayOfObjects} from '@common/utils/array/sort-array-of-objects';\r\nimport {TableDataItem} from '@common/ui/tables/types/table-data-item';\r\nimport {TableProps} from '@common/ui/tables/table';\r\n\r\nexport function useSortableTableData<T extends TableDataItem>(\r\n  data?: T[]\r\n): {\r\n  data: T[];\r\n  sortDescriptor: TableProps<T>['sortDescriptor'];\r\n  onSortChange: TableProps<T>['onSortChange'];\r\n} {\r\n  const [sortDescriptor, onSortChange] = useState<SortDescriptor>({});\r\n  const sortedData: T[] = useMemo(() => {\r\n    if (!data) {\r\n      return [];\r\n    } else if (sortDescriptor?.orderBy) {\r\n      return sortArrayOfObjects(\r\n        [...data],\r\n        sortDescriptor.orderBy,\r\n        sortDescriptor.orderDir\r\n      );\r\n    }\r\n    return data;\r\n  }, [sortDescriptor, data]);\r\n  return {data: sortedData, sortDescriptor, onSortChange};\r\n}\r\n","import {useFieldArray} from 'react-hook-form';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {IconButton} from '@common/ui/buttons/icon-button';\r\nimport {CloseIcon} from '@common/icons/material/Close';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {AddIcon} from '@common/icons/material/Add';\r\nimport React from 'react';\r\nimport {UserLink} from '@app/web-player/user-profile/user-link';\r\n\r\nexport function ProfileLinksForm() {\r\n  const {fields, append, remove} = useFieldArray<{links: UserLink[]}>({\r\n    name: 'links',\r\n  });\r\n  return (\r\n    <div>\r\n      {fields.map((field, index) => {\r\n        return (\r\n          <div key={field.id} className=\"flex gap-10 mb-10 items-end\">\r\n            <FormTextField\r\n              required\r\n              type=\"url\"\r\n              label={<Trans message=\"URL\" />}\r\n              name={`links.${index}.url`}\r\n              size=\"sm\"\r\n              className=\"flex-auto\"\r\n            />\r\n            <FormTextField\r\n              required\r\n              label={<Trans message=\"Short title\" />}\r\n              name={`links.${index}.title`}\r\n              size=\"sm\"\r\n              className=\"flex-auto\"\r\n            />\r\n            <IconButton\r\n              size=\"sm\"\r\n              color=\"primary\"\r\n              className=\"flex-shrink-0\"\r\n              onClick={() => {\r\n                remove(index);\r\n              }}\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </div>\r\n        );\r\n      })}\r\n      <Button\r\n        variant=\"text\"\r\n        color=\"primary\"\r\n        startIcon={<AddIcon />}\r\n        size=\"xs\"\r\n        onClick={() => {\r\n          append({url: '', title: ''});\r\n        }}\r\n      >\r\n        <Trans message=\"Add another link\" />\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import {useQuery} from '@tanstack/react-query';\r\nimport {apiClient} from '@common/http/query-client';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {useParams} from 'react-router-dom';\r\nimport {Artist} from '@app/web-player/artists/artist';\r\nimport {PaginationResponse} from '@common/http/backend-response/pagination-response';\r\nimport {Album} from '@app/web-player/albums/album';\r\nimport {assignAlbumToTracks} from '@app/web-player/albums/assign-album-to-tracks';\r\nimport {Track} from '@app/web-player/tracks/track';\r\nimport {getBootstrapData} from '@common/core/bootstrap-data/use-backend-bootstrap-data';\r\n\r\nexport const albumLayoutKey = 'artistPage-albumLayout';\r\n\r\nexport interface UseArtistResponse extends BackendResponse {\r\n  artist: Artist;\r\n  albums?: PaginationResponse<Album>;\r\n  tracks?: PaginationResponse<Track>;\r\n  loader?: UseArtistParams['loader'];\r\n  selectedAlbumLayout?: string;\r\n}\r\n\r\nexport interface UseArtistParams {\r\n  loader: 'artistPage' | 'editArtistPage' | 'artist';\r\n}\r\n\r\nexport function useArtist(params: UseArtistParams) {\r\n  const {artistId} = useParams();\r\n  return useQuery({\r\n    queryKey: ['artists', artistId, params],\r\n    queryFn: () => fetchArtist(artistId!, params),\r\n    initialData: () => {\r\n      const data = getBootstrapData().loaders?.[params.loader];\r\n      if (data?.artist?.id == artistId && data?.loader === params.loader) {\r\n        return data;\r\n      }\r\n      return undefined;\r\n    },\r\n  });\r\n}\r\n\r\nfunction fetchArtist(\r\n  artistId: number | string,\r\n  params: object,\r\n): Promise<UseArtistResponse> {\r\n  return apiClient\r\n    .get<UseArtistResponse>(`artists/${artistId}`, {params})\r\n    .then(response => {\r\n      if (response.data.albums) {\r\n        response.data.albums.data = response.data.albums.data.map(album =>\r\n          assignAlbumToTracks(album),\r\n        );\r\n      }\r\n      return response.data;\r\n    });\r\n}\r\n","import {parseColor} from '@react-stately/color';\r\n\r\nexport function themeValueToHex(value: string): string {\r\n  try {\r\n    return parseColor(`rgb(${value.split(' ').join(',')})`).toString('hex');\r\n  } catch (e) {\r\n    return value;\r\n  }\r\n}\r\n"],"names":["KeyboardArrowLeftIcon","createSvgIcon","jsx","useIsTabletMediaQuery","options","useMediaQuery","useGridNavigation","props","cellCount","rowCount","e","focusSiblingCell","focusFirstElementAfterGrid","isCtrlKeyPressed","operations","_a","grid","currentCell","row","rowIndex","cellIndex","rowOpCount","_b","_c","_d","cellOpCount","_e","_f","_g","nextCell","nextFocusableElement","getFocusableTreeWalker","walker","next","last","focusWithoutScrolling","TableContext","createContext","useTableCellStyle","index","isHeader","columns","cellHeight","headerCellHeight","useContext","column","userPadding","justify","clsx","TableCell","rowIsHovered","item","id","rowContext","useMemo","style","usePointerEvents","onMoveStart","onMove","onMoveEnd","minimumMovement","preventDefault","stopPropagation","onPress","onLongPress","state","useRef","addGlobalListener","removeGlobalListener","useGlobalListeners","start","onPointerDown","onPointerMove","onPointerUp","deltaX","deltaY","longPressTriggered","createEventHandler","useTableRowStyle","isSelected","isDarkMode","useIsDarkMode","isMobile","useIsMobileMediaQuery","hideBorder","enableSelection","collapseOnMobile","onAction","interactableElements","TableRow","renderAs","className","selectedRows","toggleRow","selectRow","selectRowOnContextMenu","selectionStyle","hideHeaderRow","isTouchDevice","isHovered","setIsHovered","useState","clickedOnInteractable","doubleClickHandler","anyRowsSelected","handleRowTap","isCtrlOrShiftPressed","domProps","keyboardHandler","contextMenuHandler","styleClassName","RowElement","CheckboxColumnConfig","SelectAllCheckbox","Skeleton","SelectRowCheckbox","Checkbox","trans","useTrans","data","onSelectionChange","allRowsSelected","someRowsSelected","d","ArrowDownwardIcon","HeaderCell","sortDescriptor","onSortChange","enableSorting","sortingKey","allowSorting","orderBy","orderDir","sortActive","ariaSort","toggleSorting","newSort","sortVisible","sortVariants","jsxs","AnimatePresence","m","TableHeaderRow","columnIndex","Table","userColumns","propsSelectedRows","propsDefaultSelectedRows","propsOnSelectionChange","propsSortDescriptor","propsOnSortChange","onDelete","ariaLabelledBy","renderRowAs","tableBody","meta","propsTableRef","closeOnInteractOutside","isCollapsedMode","useControlledState","useCallback","newValues","merge","filteredColumns","c","visibleInMode","contextValue","navProps","tableBodyProps","cloneElement","BasicTableBody","tableRef","useObjectRef","useInteractOutside","mergeProps","Fragment","Avatar","forwardRef","circle","size","src","link","label","fallback","lazy","ref","renderedAvatar","AvatarPlaceholderIcon","Tooltip","wrapperProps","getSizeClassName","Link","ChipList","children","color","radius","selectable","wrap","Children","chip","isValidElement","FormattedNumber","memo","value","formatter","useNumberFormatter","shallowEqual","$2d805fd52bb48883$exports","$6c28468dc1df643c$exports","$807554f8230db0ed$exports","$7097f64386f1761c$exports","$bdd847d8beb08799$exports","$a53e00b683950971$exports","$21cdd87e84f28d89$exports","$92fee9698e4d675a$exports","$7ea012e91a5ad3ee$exports","$8460c13bb2d75345$exports","$2a2d5dc14e680587$exports","$9a3f292371bb0589$exports","$4742231a685fa068$exports","$05e247fd2960981e$exports","$a67524a79ccbe190$exports","$a9eefe9d6c8cb7d5$exports","$4a6b836d4f1bfaba$exports","$c950e4b1c482abde$exports","$d10d6b60dc50b438$exports","$371a732b2494f452$exports","$6d042cae6243464b$exports","$d9ab5c2611e0bcd3$exports","$73f77c9902e29ca6$exports","$4f461eb266a95c10$exports","$dc46bea2f2597899$exports","$622bbd6719cc95af$exports","$4da03c1ecd9a9c7d$exports","$edb6b2fe456ed4e8$exports","$264cd81c52b30815$exports","$6f80afde0270dda7$exports","$23a92651c6957668$exports","$0f9b1074d04f4954$exports","$a9cedf75b94e4916$exports","$37cff576474bc8d4$exports","$5b160d28a433310d$var$localeSymbol","$5b160d28a433310d$var$stringsSymbol","$5b160d28a433310d$var$cachedGlobalStrings","$5b160d28a433310d$export$c17fa47878dc55b6","key","locale","string","strings","$5b160d28a433310d$var$getStringsForLocale","packageName","globalStrings","pkg","dictionary","messages","defaultLocale","language","$5b160d28a433310d$var$getLanguage","$parcel$interopDefault","a","$f98dad178a72c00d$exports","$799cddbef784668f$var$dictionary","$cBgAy$LocalizedStringDictionary","$799cddbef784668f$export$6e865ea70d7724f","res","$799cddbef784668f$var$RGBColor","$799cddbef784668f$var$HSBColor","$799cddbef784668f$var$HSLColor","$799cddbef784668f$var$Color","channel","x","xyChannels","xChannel","yChannel","xCh","yCh","zCh","colors","values","match","num","i","$cBgAy$clamp","_colors_","format","red","green","blue","min","brightness","chroma","saturation","hue","$cBgAy$toFixedNumber","max","lightness","$cBgAy$NumberFormatter","alpha","$799cddbef784668f$var$HSB_REGEX","_m_","h","b","n","$799cddbef784668f$var$mod","fn","k","$799cddbef784668f$var$HSL_REGEX","l","$b335ada08155d9c0$var$MIN_COLOR","$b335ada08155d9c0$var$MAX_COLOR","draggables","droppables","dragMonitors","dragSession","interactableEvent","rect","activeInteraction","setActiveInteraction","name","domRectToObj","updateRects","targets","observer","entries","entry","width","height","left","top","target","useDraggable","disabled","preview","hidePreview","dragHandleRef","removeAllGlobalListeners","optionsRef","useLayoutEffect","notifyMonitors","callback","monitor","onDragStart","draggable","el","clickedOnHandle","hideNativeGhostImage","ie","node","onDragOver","newRect","emptyImage","readFilesFromDataTransfer","dataTransfer","file","getEntryFile","UploadedFile","getEntriesFromDirectory","reader","resolve","reject","asyncIterableToArray","iterator","items","DROP_ACTIVATE_TIMEOUT","useDroppable","canDrop","allowEventsOnSelf","fireDragLeave","getDraggable","element","dropResult","sortableLineStrategy","sortSession","onDropPositionChange","previousPosition","newPosition","midY","overIndex","clearLinePreview","addLinePreview","droppableId","droppable","itemIndex","side","moveItemInArray","array","fromIndex","toIndex","from","clamp","to","delta","moveItemInNewArray","newArray","transition","sortableTransformStrategy","sortable","currentIndex","rects","s","newRects","oldRect","sortableTarget","y","sortableMoveNodeStrategy","moveNode","newIndex","parentEl","strategies","useSortable","type","onSortEnd","onSortStart","onDragEnd","strategy","useEffect","draggableProps","getScrollParent","droppableProps","oldIndex","_process","v","mod","r","parseKey","val","isIndex","isObject","isArrayOrObject","isEmptyObject","blacklist","blacklistFilter","part","parsePath","path","sep","parts","check","hasOwnProperty","DotObject","separator","override","useArray","useBrackets","dotDefault","method","obj","mods","self","ok","remove","reindexArray","keys","cp","ret","root","source","obj1","obj2","j","recipe","tgt","isArray","previousKey","prop","dotObject","DragPreview","React","render","setChildren","domRef","useImperativeHandle","flushSync","createPortal","rootEl","FormattedDuration","minutes","seconds","ms","verbose","addZeroToFirstUnit","unsignedMs","parsedMS","formattedValue","formatVerbose","formatCompact","output","message","addZero","GENRE_MODEL","WAVE_WIDTH","WAVE_HEIGHT","BAR_WIDTH","BAR_GAP","generateWaveformData","audioContext","abort","canvas","context","buffer","waveData","extractBuffer","channelData","sections","len","maxHeight","vals","bufferMeasure","scale","getBarData","position","length","sum","w","assignAlbumToTracks","album","track","useTrack","params","trackId","useParams","useQuery","fetchTrack","getBootstrapData","apiClient","response","useAlbum","albumId","fetchAlbum","UserAvatar","user","auth","SiteConfigContext","MAX_SAFE_INTEGER","sortArrayOfObjects","valueA","sortingDataAccessor","valueB","valueAType","valueBType","comparatorResult","dot","isNumberValue","numberValue","useSortableTableData","ProfileLinksForm","fields","append","useFieldArray","field","FormTextField","Trans","IconButton","CloseIcon","Button","AddIcon","albumLayoutKey","useArtist","artistId","fetchArtist","themeValueToHex","parseColor"],"mappings":"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","x_google_ignoreList":[17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,68]}