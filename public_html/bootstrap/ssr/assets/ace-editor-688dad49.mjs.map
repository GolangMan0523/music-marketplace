{"version":3,"file":"ace-editor-688dad49.mjs","sources":["../../../node_modules/ace-builds/src-noconflict/worker-css.js?url","../../../node_modules/ace-builds/src-noconflict/worker-html.js?url","../../../node_modules/ace-builds/src-noconflict/worker-php.js?url","../../../node_modules/ace-builds/src-noconflict/worker-javascript.js?url","../../../common/resources/client/ace-editor/ace-editor.tsx"],"sourcesContent":["export default \"__VITE_ASSET__aff451cf__\"","export default \"__VITE_ASSET__bea50456__\"","export default \"__VITE_ASSET__a530ae0a__\"","export default \"__VITE_ASSET__91a578e2__\"","import ace from 'ace-builds/src-noconflict/ace';\r\nimport cssWorkerUrl from 'ace-builds/src-noconflict/worker-css?url';\r\nimport htmlWorkerUrl from 'ace-builds/src-noconflict/worker-html?url';\r\nimport phpWorkerUrl from 'ace-builds/src-noconflict/worker-php?url';\r\nimport javascriptWorkerUrl from 'ace-builds/src-noconflict/worker-javascript?url';\r\nimport React, {MutableRefObject, useEffect, useRef} from 'react';\r\nimport AceEditorRender from 'react-ace';\r\nimport ReactAce from 'react-ace';\r\nimport 'ace-builds/src-noconflict/mode-css';\r\nimport 'ace-builds/src-noconflict/mode-html';\r\nimport 'ace-builds/src-noconflict/mode-javascript';\r\nimport 'ace-builds/src-noconflict/mode-php_laravel_blade';\r\nimport 'ace-builds/src-noconflict/theme-chrome';\r\nimport 'ace-builds/src-noconflict/theme-tomorrow_night';\r\nimport 'ace-builds/src-noconflict/ext-language_tools';\r\nimport Beautify from 'ace-builds/src-noconflict/ext-beautify';\r\nimport {useIsDarkMode} from '../ui/themes/use-is-dark-mode';\r\n\r\nace.config.setModuleUrl('ace/mode/css_worker', cssWorkerUrl);\r\nace.config.setModuleUrl('ace/mode/html_worker', htmlWorkerUrl);\r\nace.config.setModuleUrl('ace/mode/php_worker', phpWorkerUrl);\r\nace.config.setModuleUrl('ace/mode/javascript_worker', javascriptWorkerUrl);\r\n\r\ninterface Props {\r\n  mode: 'css' | 'html' | 'javascript' | 'php_laravel_blade';\r\n  onChange: (value: string) => void;\r\n  onIsValidChange: (isValid: boolean) => void;\r\n  defaultValue: string;\r\n  beautify?: boolean;\r\n  editorRef?: MutableRefObject<ReactAce | null>;\r\n}\r\nexport default function AceEditor({\r\n  mode,\r\n  onChange,\r\n  onIsValidChange,\r\n  defaultValue,\r\n  beautify = true,\r\n  editorRef: propsEditorRef,\r\n}: Props) {\r\n  const isDarkMode = useIsDarkMode();\r\n  const defaultRef = useRef<ReactAce | null>(null);\r\n  const editorRef = propsEditorRef || defaultRef;\r\n\r\n  useEffect(() => {\r\n    if (beautify && editorRef.current) {\r\n      Beautify.beautify(editorRef.current.editor.session);\r\n    }\r\n  }, [beautify, editorRef]);\r\n\r\n  return (\r\n    <AceEditorRender\r\n      ref={editorRef}\r\n      width=\"auto\"\r\n      height=\"auto\"\r\n      wrapEnabled\r\n      className=\"absolute inset-0\"\r\n      focus\r\n      mode={mode}\r\n      theme={isDarkMode ? 'tomorrow_night' : 'chrome'}\r\n      enableBasicAutocompletion\r\n      enableLiveAutocompletion\r\n      defaultValue={defaultValue}\r\n      onChange={onChange}\r\n      editorProps={{$blockScrolling: true}}\r\n      commands={Beautify.commands}\r\n      onValidate={annotations => {\r\n        const isValid =\r\n          annotations.filter(a => a.type === 'error').length === 0;\r\n        onIsValidChange(isValid);\r\n      }}\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAe,eAAA;ACAf,MAAe,gBAAA;ACAf,MAAe,eAAA;ACAf,MAAe,sBAAA;ACkBf,IAAI,OAAO,aAAa,uBAAuB,YAAY;AAC3D,IAAI,OAAO,aAAa,wBAAwB,aAAa;AAC7D,IAAI,OAAO,aAAa,uBAAuB,YAAY;AAC3D,IAAI,OAAO,aAAa,8BAA8B,mBAAmB;AAUzE,SAAwB,UAAU;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,WAAW;AAAA,EACX,WAAW;AACb,GAAU;AACR,QAAM,aAAa;AACb,QAAA,aAAa,OAAwB,IAAI;AAC/C,QAAM,YAAY,kBAAkB;AAEpC,YAAU,MAAM;AACV,QAAA,YAAY,UAAU,SAAS;AACjC,eAAS,SAAS,UAAU,QAAQ,OAAO,OAAO;AAAA,IACpD;AAAA,EAAA,GACC,CAAC,UAAU,SAAS,CAAC;AAGtB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,KAAK;AAAA,MACL,OAAM;AAAA,MACN,QAAO;AAAA,MACP,aAAW;AAAA,MACX,WAAU;AAAA,MACV,OAAK;AAAA,MACL;AAAA,MACA,OAAO,aAAa,mBAAmB;AAAA,MACvC,2BAAyB;AAAA,MACzB,0BAAwB;AAAA,MACxB;AAAA,MACA;AAAA,MACA,aAAa,EAAC,iBAAiB,KAAI;AAAA,MACnC,UAAU,SAAS;AAAA,MACnB,YAAY,CAAe,gBAAA;AACnB,cAAA,UACJ,YAAY,OAAO,CAAA,MAAK,EAAE,SAAS,OAAO,EAAE,WAAW;AACzD,wBAAgB,OAAO;AAAA,MACzB;AAAA,IAAA;AAAA,EAAA;AAGN;","x_google_ignoreList":[0,1,2,3]}